---
title: إضافة الحقول المخصصة المطلوبة إلى إعداد الأسعار وكيانات المعاملات
description: يقدم هذا الموضوع معلومات حول كيفية إضافة مراجع الحقول المخصصة المطلوبة إلى الكيانات والنماذج وطرق العرض.
author: rumant
manager: AnnBe
ms.date: 09/18/2020
ms.topic: article
ms.prod: ''
ms.service: project-operations
audience: Application User
ms.reviewer: kfend
ms.search.scope: ''
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Service industries
ms.author: suvaidya
ms.dyn365.ops.version: ''
ms.search.validFrom: 2020-10-01
ms.openlocfilehash: c324e0e8797d0b6d3a06ffc2a40b787a475c49b5
ms.sourcegitcommit: 16c442258ba24c79076cf5877a0f3c1f51a85f61
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 11/20/2020
ms.locfileid: "4590885"
---
# <a name="add-required-custom-fields-to-price-setup-and-transactional-entities"></a><span data-ttu-id="22f2e-103">إضافة الحقول المخصصة المطلوبة إلى إعداد الأسعار وكيانات المعاملات</span><span class="sxs-lookup"><span data-stu-id="22f2e-103">Add required custom fields to price setup and transactional entities</span></span>

<span data-ttu-id="22f2e-104">_**ينطبق علي:** ‏‫Project Operations للسيناريوهات المستندة إلى مورد/غير مخزنة‬، ‏‫النشر الخفيف – التعامل مع الفواتير الأولية‬_</span><span class="sxs-lookup"><span data-stu-id="22f2e-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios, Lite deployment - deal to proforma invoicing_</span></span>

<span data-ttu-id="22f2e-105">يفترض هذا الموضوع أنك قد قمت بإكمال الإجراءات الموجودة في الموضوع، [إنشاء حقول وكيانات مخصصة لاستخدامها كأبعاد تسعير](create-custom-fields-entities-pricing-dimensions.md).</span><span class="sxs-lookup"><span data-stu-id="22f2e-105">This topic assumes that you have completed the procedures in the topic, [Create custom fields and entities to be used as pricing dimensions](create-custom-fields-entities-pricing-dimensions.md).</span></span> <span data-ttu-id="22f2e-106">إذا لم تقم بإكمال هذه الإجراءات، فقم بالرجوع إلى الحالة السابقة وإكمالها ثم عد إلى هذا الموضوع.</span><span class="sxs-lookup"><span data-stu-id="22f2e-106">If you haven't completed those procedures, go back and complete them and then return to this topic.</span></span> 

<span data-ttu-id="22f2e-107">في هذا الموضوع، سوف توضح لك الإجراءات كيفية إضافة مراجع الحقول المخصصة المطلوبة إلى الكيانات وعناصر واجهه المستخدم (UI) مثل النماذج وطرق العرض.</span><span class="sxs-lookup"><span data-stu-id="22f2e-107">In this topic, the procedures will show you how to add the required custom field references to entities and to the user interface (UI) elements such as forms and views.</span></span>

## <a name="add-custom-pricing-dimension-fields"></a><span data-ttu-id="22f2e-108">إضافة حقول أبعاد تسعير مخصصة</span><span class="sxs-lookup"><span data-stu-id="22f2e-108">Add custom pricing dimension fields</span></span> 
<span data-ttu-id="22f2e-109">بعد إنشاء الحقول والكيانات المخصصة، تتمثل الخطوة التالية في جعل إعداد السعر وكيانات الحركات علم بأية كيانات مخصصة أو مجموعات خيارات عن طريق إنشاء حقول مرجعية.</span><span class="sxs-lookup"><span data-stu-id="22f2e-109">After custom fields and entities have been created, the next step is to make price setup and transactional entities aware of any custom entities or option sets by creating reference fields.</span></span> <span data-ttu-id="22f2e-110">واستنادا إلى ما إذا كانت قائمة أبعاد التسعير تتضمن أبعاد مجموعة خيارات أو أبعاد كيان أو كلاهما، فاتبع فقط الخطوات الموجودة في **أبعاد التسعير المخصصة المستندة إلى مجموعه الخيارات** أو **أبعاد التسعير المخصصة المستندة إلى الكيان**، أو كلاهما على التوالي.</span><span class="sxs-lookup"><span data-stu-id="22f2e-110">Depending on whether your pricing dimensions list includes option set dimensions or entity dimensions or both, follow only the steps in **Option set-based custom pricing dimensions** or **Entity-based custom pricing dimensions**, or both, respectively.</span></span>

### <a name="option-set-based-custom-pricing-dimensions"></a><span data-ttu-id="22f2e-111">أبعاد التسعير المخصصة المستندة إلى مجموعة خيارات</span><span class="sxs-lookup"><span data-stu-id="22f2e-111">Option set-based custom pricing dimensions</span></span>
<span data-ttu-id="22f2e-112">عندما يكون أحد أبعاد التسعير المخصصة مستندًا إلى مجموعة خيارات، قم بإضافته كحقل للكيانات الرئيسية.</span><span class="sxs-lookup"><span data-stu-id="22f2e-112">When a custom pricing dimension is option set-based, add it as a field to key entities.</span></span> <span data-ttu-id="22f2e-113">في الإجراء التالي يتم استخدام **موقع عمل المورد** و **ساعات عمل المورد** كأبعاد تسعير مستندة إلى مجموعة خيارات.</span><span class="sxs-lookup"><span data-stu-id="22f2e-113">In the following procedure, **Resource Work Location** and **Resource Work Hours** are used as the option set-based pricing dimensions.</span></span> <span data-ttu-id="22f2e-114">يجب إضافة هذه الأبعاد أولا كحقول إلى كيانات التسعير، **سعر الدور** و **رفع سعر الدور**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-114">These must first be added as fields to the pricing entities, **Role Price** and **Role Price Markup**.</span></span>

1. <span data-ttu-id="22f2e-115">في عمليات المشروع، حدد **الإعدادات** > **حلول**، وانقر نقرًا مزدوجًا فوق **\<your organization name> أبعاد التسعير**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-115">In Project operations, select **Settings** > **Solutions**, and double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="22f2e-116">في مستكشف الحلول، في جزء التنقل الأيسر، حدد **الكيانات > سعر الدور**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-116">In Solution Explorer, on the left navigation pane, select **Entities > Role Price**.</span></span>
3. <span data-ttu-id="22f2e-117">قم بتوسيع كيان **سعر الدور** وحدد **الحقول**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-117">Expand the entity **Role Price** and select **Fields**.</span></span>
4. <span data-ttu-id="22f2e-118">حدد **جديد** لإنشاء حقل جديد يسمي **موقع عمل المورد** وحدد **مجموعة الخيارات** كنوع الحقل.</span><span class="sxs-lookup"><span data-stu-id="22f2e-118">Select **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="22f2e-119">حدد **استخدام مجموعة خيارات موجودة**، وحدد مجموعة خيارات **موقع عمل المورد** ، ثم حدد **حفظ**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-119">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then select **Save**.</span></span>
6. <span data-ttu-id="22f2e-120">كرر الخطوات 1-5 لإضافة هذا الحقل إلى كيان **رفع سعر الدور**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-120">Repeat steps 1 - 5 to add this field to the **Role Price Markup** entity.</span></span> 
7. <span data-ttu-id="22f2e-121">كرر الخطوات 1 - 5 لمجموعة خيارات **ساعات عمل المورد**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-121">Repeat steps 1 - 5 for the **Resource Work Hours** option set.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="22f2e-122">عندما تقوم بإضافة حقل إلى أكثر من كيان واحد، استخدم نفس اسم الحقل عبر كافة الكيانات.</span><span class="sxs-lookup"><span data-stu-id="22f2e-122">When you add a field to more than one entity, use the same field name across all of the entities.</span></span> 

> ![إضافة موقع عمل المورد إلى سعر الدور](media/RWL-Field.png)

<span data-ttu-id="22f2e-124">في مراحل المبيعات والتقدير الخاصة بمشروع، يتم استخدام تقديرات جهد العمل المطلب لاستكمال **عمل محلي** و **في الموقع** في **ساعات منتظمة** و **ساعات إضافية** لتقدير قيمة عرض الأسعار/المشروع.</span><span class="sxs-lookup"><span data-stu-id="22f2e-124">In the sales and estimation phases for a project, estimates of the work effort that is required to complete **Local** and **Onsite** work, in **Regular hours** and **Overtime hours**  are used to estimate the value of the Quote/Project.</span></span> <span data-ttu-id="22f2e-125">ستتم إضافة حقول **موقع عمل المورد** و **ساعات عمل المورد** إلى كيانات التقدير، **تفاصيل بند عرض الأسعار** و **تفاصيل شروط التعاقد** و **عضو فريق المشروع** و **بند التقدير**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-125">The fields **Resource Work Location** and **Resource Work Hours** will be added to the estimation entities, **Quote Line Detail**, **Contract Line detail**, **Project Team Member**, and **Estimate Line**.</span></span>

1. <span data-ttu-id="22f2e-126">في عمليات المشروع، حدد **الإعدادات** > **حلول**، وانقر نقرًا مزدوجًا فوق **\<your organization name> ابعاد التسعير**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-126">In Project operations, select **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="22f2e-127">في مستكشف الحلول، في جزء التنقل الأيسر، حدد **الكيانات > تفاصيل بند عرض الأسعار**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-127">In Solution Explorer, on the left navigation pane, select **Entities > Quote Line Detail**.</span></span>
3. <span data-ttu-id="22f2e-128">قم بتوسيع الكيان **تفاصيل بند عرض الأسعار**، وحدد **الحقول**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-128">Expand the **Quote Line Detail** entity, and select **Fields**.</span></span>
4. <span data-ttu-id="22f2e-129">حدد **جديد** لإنشاء حقل جديد يسمي **موقع عمل المورد** وحدد نوع الحقل، **مجموعة خيارات**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-129">Select **New** to create a new field called **Resource Work Location** and select the field type, **Option set**.</span></span> 
5. <span data-ttu-id="22f2e-130">حدد **استخدام مجموعة خيارات موجودة** و **موقع عمل المورد**، ثم حدد **حفظ**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-130">Select **Use an existing Option set** and **Resource Work Location**, and then select **Save**.</span></span>
6. <span data-ttu-id="22f2e-131">كرر الخطوات 1 - 5 لإضافة هذا الحقل إلى كيانات **تفاصيل شروط التعاقد للمشروع** و **عضو فريق المشروع** و **بند التقييم**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-131">Repeat steps 1 - 5 to add this field to the **Project Contract line detail**, **Project Team Member**, and **Estimate Line** entities.</span></span>
7. <span data-ttu-id="22f2e-132">كرر الخطوات 1 - 6 لمجموعة خيارات **ساعات عمل المورد**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-132">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![إضافة موقع عمل المورد إلى بند التقدير](media/RWL-Default-Value.png)

<span data-ttu-id="22f2e-134">بالنسبة للتسليم والفوترة، يجب أن يكون العمل المكتمل مسعرًا بشكل دقيق لتحديد ما إذا تم تنفيذه **محليًا** أم **في الموقع**، وما إذا تم استكماله أثناء **ساعات عادية** أو خلا **ساعات إضافية** في القيم الفعلية للمشروع.</span><span class="sxs-lookup"><span data-stu-id="22f2e-134">For delivery and invoicing, completed work needs to be accurately priced to select whether it was performed **Local** or **Onsite**, and whether it was completed during **Regular hours** or **Overtime** on the Project Actuals.</span></span> <span data-ttu-id="22f2e-135">يجب إضافة حقلي **موقع عمل المورد** و **ساعات عمل المورد** إلى كيانات **إدخال الوقت** و **القيمة الفعلية** و **وتفاصيل بند الفاتورة** و **سطر دفتر اليومية**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-135">The **Resource Work Location** and **Resource Work hours** fields should be added to the **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>

1. <span data-ttu-id="22f2e-136">حدد **الإعدادات** > **حلول**، وانقر نقرًا مزدوجًا فوق **\<your organization name> أبعاد التسعير**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-136">Select **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span>
2. <span data-ttu-id="22f2e-137">في مستكشف الحلول، في جزء التنقل الأيسر، حدد **الكيانات > إدخال الوقت**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-137">In Solution Explorer, on the left navigation pane, select  **Entities > Time Entry**.</span></span>
3. <span data-ttu-id="22f2e-138">قم بتوسيع الكيان **تفاصيل بند عرض الأسعار**، وحدد **الحقول**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-138">Expand the **Quote Line Detail** entity, and then select **Fields**.</span></span>
4. <span data-ttu-id="22f2e-139">حدد **جديد** لإنشاء حقل جديد يسمي **موقع عمل المورد** وحدد **مجموعة الخيارات** كنوع الحقل.</span><span class="sxs-lookup"><span data-stu-id="22f2e-139">Select **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="22f2e-140">حدد **استخدام مجموعة خيارات موجودة**، وحدد مجموعة خيارات **موقع عمل المورد** ، ثم حدد **حفظ**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-140">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then select **Save**.</span></span>
6. <span data-ttu-id="22f2e-141">كرر الخطوات 1 - 5 لإضافة هذا الحقل إلى كيانات **القيمة الفعلية** و **تفاصيل بند الفاتورة** و **سطر دفتر اليومية**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-141">Repeat steps 1 - 5 to add this field to the **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>
7. <span data-ttu-id="22f2e-142">كرر الخطوات 1 - 6 لمجموعة خيارات **ساعات عمل المورد**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-142">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![إضافة موقع عمل المورد إلى إدخال الوقت](media/RWL-time-entry.png)

<span data-ttu-id="22f2e-144">يؤدي هذا الإجراء إلى إكمال تغييرات المخطط المطلوبة للأبعاد المخصصة المستندة إلى مجموعة خيارات.</span><span class="sxs-lookup"><span data-stu-id="22f2e-144">This completes the schema changes required for option set-based custom dimensions.</span></span>

## <a name="entity-based-custom-pricing-dimensions"></a><span data-ttu-id="22f2e-145">أبعاد التسعير المخصصة المستندة إلى كيان</span><span class="sxs-lookup"><span data-stu-id="22f2e-145">Entity-based custom pricing dimensions</span></span>

<span data-ttu-id="22f2e-146">عندما يكون بعد التسعير المخصص كيانًا، سوف تقوم بإضافة علاقات 1: N بين كيان البُعد والكيانات الأساسية.</span><span class="sxs-lookup"><span data-stu-id="22f2e-146">When the custom pricing dimension is an entity, you will add 1:N relationships between the dimension entity and key entities.</span></span> <span data-ttu-id="22f2e-147">وباستخدام مثال العنوان القياسي من القسم السابق، من المعقول توقع أن يتم تعيين عنوان قياسي لكل موظف.</span><span class="sxs-lookup"><span data-stu-id="22f2e-147">Using the Standard Title example from above, it is reasonable to expect that each employee is assigned a standard title.</span></span> <span data-ttu-id="22f2e-148">ونتيجة لذلك، ستحتاج إلى علاقة 1:N من العنوان القياسي إلى المورد القابل للحجز، أو علاقة N:1 إذا تم إنشاؤه من مورد قابل للحجز إلى العنوان القياسي.</span><span class="sxs-lookup"><span data-stu-id="22f2e-148">SAs a result, you will need a 1:N relationship from Standard Title to Bookable Resource, or a N:1 relationship if it were created from Bookable Resource to Standard Title.</span></span>

1. <span data-ttu-id="22f2e-149">في عمليات المشروع، حدد **الإعدادات** > **حلول**، وانقر نقرًا مزدوجًا فوق **\<your organization name> ابعاد التسعير**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-149">In Project operations, select **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="22f2e-150">في مستكشف الحلول، في جزء التنقل الأيسر، حدد **الكيانات > العنوان القياسي**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-150">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
3. <span data-ttu-id="22f2e-151">قم بتوسيع كيان **العنوان القياسي** وحدد  **علاقات 1:N**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-151">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
4. <span data-ttu-id="22f2e-152">حدد **جديد** لإنشاء علاقة 1:N الجديدة التي تسمي **عنوان قياسي إلى مورد قابل للحجز**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-152">Select **New** to create a new 1:N relationship called **Standard Title to Bookable Resource**.</span></span> <span data-ttu-id="22f2e-153">أدخل المعلومات المطلوبة، ثم حدد **حفظ**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-153">Enter the required information, and then select **Save**.</span></span>

> ![إضافة عنوان قياسي كحقل مرجعي إلى مورد قابل للحجز](media/ST-BR.png)

<span data-ttu-id="22f2e-155">سوف يتعين أيضًا إضافة العنوان القياسي إلى كيانات التسعير، **سعر الدور** و **رفع سعر الدور**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-155">The Standard Title will also need to be added to Pricing entities, **Role Price** and **Role Price Markup**.</span></span> <span data-ttu-id="22f2e-156">يتم إكمال ذلك أيضا باستخدام علاقات1:N بين **العنوان القياسي** وكيانات **سعر الدور** وكيانات **العنوان القياسي** و **رفع سعر الدور**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-156">This is also completed using 1:N relationships between the **Standard Title** and **Role Price** entities and **Standard Title** and **Role Price Markup** entities.</span></span>

1. <span data-ttu-id="22f2e-157">في مستكشف الحلول، في جزء التنقل الأيسر، حدد **الكيانات > العنوان القياسي**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-157">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="22f2e-158">قم بتوسيع كيان **العنوان القياسي** وحدد  **علاقات 1:N**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-158">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="22f2e-159">حدد **جديد** لإنشاء علاقة 1:N الجديدة التي تسمي **عنوان قياسي إلى سعر الدور**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-159">Select **New** to create a new 1:N relationship called **Standard Title to Role Price**.</span></span> <span data-ttu-id="22f2e-160">أدخل المعلومات المطلوبة، ثم حدد **حفظ**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-160">Enter the required information, and then select **Save**.</span></span>
4. <span data-ttu-id="22f2e-161">كرر الخطوات 1 - 4 لإنشاء علاقات 1:N بين كياني **العنوان القياسي** و **رفع سعر الدور**،</span><span class="sxs-lookup"><span data-stu-id="22f2e-161">Repeat steps 1 - 4 to create 1:N relationships between the **Standard Title** and **Role Price Markup** entities,</span></span>

<span data-ttu-id="22f2e-162">في مراحل المبيعات والتقدير الخاصة بالمشروع، لتحديد سعر عرض الأسعار/المشروع، تكون التقديرات الخاصة بمجهود العمل مطلوبة لكل عنوان قياسي.</span><span class="sxs-lookup"><span data-stu-id="22f2e-162">In the sales and estimation phases for the project, to price the Quote/Project, estimates of the work effort are required for each standard title.</span></span> <span data-ttu-id="22f2e-163">هذا يعني أن هناك حاجة لعلاقات 1:N من العنوان القياسي إلى كل واحدة من هذه الكيانات التقديرية:</span><span class="sxs-lookup"><span data-stu-id="22f2e-163">This means that 1:N relationships from Standard Title to each of these estimation entities are needed:</span></span> 

- <span data-ttu-id="22f2e-164">**تفاصيل بند عرض الأسعار‬**</span><span class="sxs-lookup"><span data-stu-id="22f2e-164">**Quote line Detail**</span></span>
- <span data-ttu-id="22f2e-165">**تفاصيل بنود عقد المشروع**</span><span class="sxs-lookup"><span data-stu-id="22f2e-165">**Project Contract Line Detail**</span></span>
- <span data-ttu-id="22f2e-166">**عضو فريق المشروع**</span><span class="sxs-lookup"><span data-stu-id="22f2e-166">**Project Team Member**</span></span>
- <span data-ttu-id="22f2e-167">**سطر التقدير**</span><span class="sxs-lookup"><span data-stu-id="22f2e-167">**Estimate Line**</span></span>

5. <span data-ttu-id="22f2e-168">كرر الخطوات 1 - 5 لإنشاء علاقات 1:N من **العنوان القياسي** إلى **تفاصيل بند عرض الأسعار**، و **تفاصيل شروط تعاقد المشروع**، و **عضو فريق المشروع** و **بند التقدير**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-168">Repeat steps 1 - 5 to create 1:N relationships from **Standard Title** to **Quote line Detail**, **Project Contract Line Detail**, **Project Team Member**, and **Estimate Line**.</span></span>

> ![إضافة عنوان قياسي كحقل مرجعي إلى بند التقدير](media/ST-Estimate-Line.png)

  <span data-ttu-id="22f2e-170">في مراحل التسليم والفوترة، يجب أن يكون العمل الذي تم إكماله بواسطة كل عنوان قياسي مسعرًا بشكل دقيق حسب القيم الفعلية للمشروع.</span><span class="sxs-lookup"><span data-stu-id="22f2e-170">In the Delivery and Invoicing phases, the work completed by each standard title must be accurately priced on the Project Actuals.</span></span> <span data-ttu-id="22f2e-171">وهذا يعني أنه يلزم وجود علاقات 1:N من **العنوان القياسي** إلى **إدخال الوقت** و **القيمة الفعلية** و **تفاصيل بند الفاتورة**، و **كيانات سطر دفتر اليومية**</span><span class="sxs-lookup"><span data-stu-id="22f2e-171">This means that there needs to be 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

6. <span data-ttu-id="22f2e-172">كرر الخطوات 1 - 6 لإنشاء علاقات 1:N من **العنوان القياسي** إلى **إدخال الوقت** و **القيمة الفعلية** و **تفاصيل بند الفاتورة**، و **كيانات سطر دفتر اليومية**</span><span class="sxs-lookup"><span data-stu-id="22f2e-172">Repeat steps 1 - 6 to create 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

> ![إضافة عنوان قياسي كحقل مرجعي إلى إدخال الوقت](media/ST-Mapping.png)

### <a name="set-up-dimension-value-defaulting-using-the-mappings-features-of-the-platform"></a><span data-ttu-id="22f2e-174">إعداد قيمة البُعد الافتراضية باستخدام ميزات المخططات الخاصة بالنظام الأساسي</span><span class="sxs-lookup"><span data-stu-id="22f2e-174">Set up Dimension value defaulting using the mappings features of the platform</span></span>
<span data-ttu-id="22f2e-175">بالنسبة لإدخال الوقت، سيكون من المفيد أن يكون للنظام افتراضيا عنوان قياسي في إدخال الوقت من المورد القابل للحجز الذي يسجل إدخال الوقت.</span><span class="sxs-lookup"><span data-stu-id="22f2e-175">For Time Entry, it would be helpful to have the system default the standard title on the Time Entry from the Bookable Resource that is recording the time entry.</span></span> <span data-ttu-id="22f2e-176">استخدم الخطوات التالية لإضافة تعيينات حقول في علاقة 1:N من  **المورد القابل للحجز** إلى **إدخال الوقت**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-176">Use the following steps to add field mappings on the 1:N relationship from **Bookable Resource** to **Time Entry**.</span></span>

1. <span data-ttu-id="22f2e-177">في مستكشف الحلول، في جزء التنقل الأيسر، حدد **الكيانات > العنوان القياسي**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-177">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="22f2e-178">قم بتوسيع كيان **العنوان القياسي** وحدد  **علاقات 1:N**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-178">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="22f2e-179">انقر نقرًا مزدوجًا فوق **المورد القابل الحجز إلى إدخال الوقت**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-179">Double-click **Bookable Resource to Time Entry**.</span></span> <span data-ttu-id="22f2e-180">في صفحة **العلاقة** ، حدد **استخدام تعيينات الحقول**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-180">On the **Relationship** page, select **Use Field mappings**.</span></span> 
4. <span data-ttu-id="22f2e-181">حدد **جديد** لإنشاء تعيين حقل جديد بين حقل **العنوان القياسي** في كيان **المورد القابل للحجز** إلى الحقل المرجع **العنوان القياسي** في كيان **إدخال الوقت**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-181">Select **New** to create a new field mapping between the **Standard Title** field on the **Bookable Resource** entity to the **Standard Title** reference field on **Time Entry** entity.</span></span> 

> ![إعداد تعيينات الحقول للسماح بالتخصيص الافتراضي للعنوان القياسي من مورد قابل للحجز إلى إدخال الوقت](media/ST-Mapping2.png)

<span data-ttu-id="22f2e-183">يؤدي هذا الإجراء إلى إكمال تغييرات المخطط المطلوبة للأبعاد المخصصة المستندة إلى كيان.</span><span class="sxs-lookup"><span data-stu-id="22f2e-183">This completes the schema changes required for entity-based custom dimensions.</span></span>

##  <a name="add-custom-fields-to-forms-views-and-business-rules"></a><span data-ttu-id="22f2e-184">إضافة حقول مخصصة إلى النماذج وطرق العرض وقواعد الأعمال</span><span class="sxs-lookup"><span data-stu-id="22f2e-184">Add custom fields to forms, views, and business rules</span></span>

<span data-ttu-id="22f2e-185">بعد إجراء كافة التغييرات المطلوبة في المخطط، تكون الخطوة التالية هي جعل الحقول مرئية في واجهة المستخدم بإضافة الحقول إلى النماذج وطرق العرض.</span><span class="sxs-lookup"><span data-stu-id="22f2e-185">After you have made all of the required schema changes, the next step is to make the fields visible in the UI by adding the fields to the forms and views.</span></span>

1. <span data-ttu-id="22f2e-186">افتح النموذج أو طريقه العرض.</span><span class="sxs-lookup"><span data-stu-id="22f2e-186">Open the form or the view.</span></span> <span data-ttu-id="22f2e-187">في جزء التنقل الأيمن، حدد الحقل واسحبه إلى لوحة النموذج.</span><span class="sxs-lookup"><span data-stu-id="22f2e-187">On the right navigation pane, select the field and drag it on to the form canvas.</span></span> 
2. <span data-ttu-id="22f2e-188">إذا كنت تقوم بتحرير طريقه عرض، فاستخدم جزء التنقل الأيمن، ثم حدد **إضافة حقول**، ثم في مربع حوار **سرد الحقل** ، حدد الحقول التي تريدها وانقر فوق **موافق**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-188">If you are editing a view, use the right navigation pane, select **Add fields**, and in the **Field listing** dialog box, select the fields that you need and select **Ok**.</span></span>

<span data-ttu-id="22f2e-189">يوفر الجدول التالي قائمة شاملة بالنماذج وطرق العرض الجاهزة، حسب الكيان، والذي يلزم تحديثه بحقول جديدة.</span><span class="sxs-lookup"><span data-stu-id="22f2e-189">The following table provides a comprehensive list of out-of-the-box forms and views, by entity, that will need to be updated with the new fields.</span></span> <span data-ttu-id="22f2e-190">إذا كان لديك أي طرق عرض أو نماذج إضافية في التخصيصات الخاصة بك بهذه الكيانات، فقم بإضافة الحقول الجديدة إلى تلك النماذج أيضا.</span><span class="sxs-lookup"><span data-stu-id="22f2e-190">If you have any additional views or forms in your customizations on these entities, add the new fields to those as well.</span></span>

| <span data-ttu-id="22f2e-191">Entity</span><span class="sxs-lookup"><span data-stu-id="22f2e-191">Entity</span></span>        | <span data-ttu-id="22f2e-192">النماذج التي تحتاج إلى حقل جديد</span><span class="sxs-lookup"><span data-stu-id="22f2e-192">Forms that need the new field</span></span>   |<span data-ttu-id="22f2e-193">طرق العرض التي تحتاج إلى حقل جديد</span><span class="sxs-lookup"><span data-stu-id="22f2e-193">Views that need the new field</span></span>      |
| ------------------------------|---------------------------------|----------------------------------|
|  <span data-ttu-id="22f2e-194">سعر الدور</span><span class="sxs-lookup"><span data-stu-id="22f2e-194">Role Price</span></span>|<span data-ttu-id="22f2e-195">• المعلومات</span><span class="sxs-lookup"><span data-stu-id="22f2e-195">• Information</span></span> |<span data-ttu-id="22f2e-196">• أسعار فئات الموارد النشطة</span><span class="sxs-lookup"><span data-stu-id="22f2e-196">• Active Resource Category Prices</span></span><br> <span data-ttu-id="22f2e-197">• طريقة العرض المقترنة لأسعار فئات الموارد</span><span class="sxs-lookup"><span data-stu-id="22f2e-197">• Resource Category Price Associated View</span></span>|
|  <span data-ttu-id="22f2e-198">رفع سعر الدور</span><span class="sxs-lookup"><span data-stu-id="22f2e-198">Role Price Markup</span></span>|<span data-ttu-id="22f2e-199">• المعلومات</span><span class="sxs-lookup"><span data-stu-id="22f2e-199">• Information</span></span>|<span data-ttu-id="22f2e-200">• رفع سعر الدور النشط</span><span class="sxs-lookup"><span data-stu-id="22f2e-200">• Active Role Price Markup</span></span><br><span data-ttu-id="22f2e-201">• طريقة العرض المقترنة لرفع سعر الدور</span><span class="sxs-lookup"><span data-stu-id="22f2e-201">• Role Price Markup Associated View</span></span>|
|  <span data-ttu-id="22f2e-202">تفاصيل بند عرض الأسعار‬</span><span class="sxs-lookup"><span data-stu-id="22f2e-202">Quote line detail</span></span>|<span data-ttu-id="22f2e-203">• معلومات المشروع</span><span class="sxs-lookup"><span data-stu-id="22f2e-203">• Project Information</span></span><br><span data-ttu-id="22f2e-204">• إنشاء سريع للمشروع</span><span class="sxs-lookup"><span data-stu-id="22f2e-204">• Project Quick Create</span></span>|<span data-ttu-id="22f2e-205">• تفاصيل بند عرض الأسعار‬ النشطة</span><span class="sxs-lookup"><span data-stu-id="22f2e-205">• Active Quote Line Detail</span></span><br><span data-ttu-id="22f2e-206">• تفاصيل بند عرض الأسعار المجمعة</span><span class="sxs-lookup"><span data-stu-id="22f2e-206">• Combined Quote Line Details</span></span><br><span data-ttu-id="22f2e-207">• طريقة العرض المقترنة لتفاصيل بند عرض الأسعار</span><span class="sxs-lookup"><span data-stu-id="22f2e-207">• Quote Line Detail associated view</span></span>|
|  <span data-ttu-id="22f2e-208">تفاصيل شروط تعاقد المشروع</span><span class="sxs-lookup"><span data-stu-id="22f2e-208">Project Contract line detail</span></span>|<span data-ttu-id="22f2e-209">• معلومات المشروع</span><span class="sxs-lookup"><span data-stu-id="22f2e-209">• Project Information</span></span><br><span data-ttu-id="22f2e-210">• إنشاء سريع للمشروع</span><span class="sxs-lookup"><span data-stu-id="22f2e-210">• Project Quick Create</span></span>|<span data-ttu-id="22f2e-211">• تفاصيل شروط التعاقد المُجمعة</span><span class="sxs-lookup"><span data-stu-id="22f2e-211">• Combined Contract Line Details</span></span><br><span data-ttu-id="22f2e-212">• تفاصيل شروط التعاقد النشطة</span><span class="sxs-lookup"><span data-stu-id="22f2e-212">• Active Contract Line Details</span></span><br><span data-ttu-id="22f2e-213">• طريقة العرض المقترنة بتفاصيل شروط التعاقد</span><span class="sxs-lookup"><span data-stu-id="22f2e-213">• Contract Line Details Associated View</span></span>|
|  <span data-ttu-id="22f2e-214">عضو فريق المشروع</span><span class="sxs-lookup"><span data-stu-id="22f2e-214">Project Team Member</span></span>|<span data-ttu-id="22f2e-215">• المعلومات</span><span class="sxs-lookup"><span data-stu-id="22f2e-215">• Information</span></span><br><span data-ttu-id="22f2e-216">• نموذج جديد</span><span class="sxs-lookup"><span data-stu-id="22f2e-216">• New Form</span></span>|<span data-ttu-id="22f2e-217">• أعضاء فريق المشروع النشيطون</span><span class="sxs-lookup"><span data-stu-id="22f2e-217">• Active Project Team Members</span></span><br><span data-ttu-id="22f2e-218">• أعضاء فريق المشروع</span><span class="sxs-lookup"><span data-stu-id="22f2e-218">• Project Team Members</span></span><br><span data-ttu-id="22f2e-219">• طريقة العرض المقترنة لأعضاء فريق المشروع</span><span class="sxs-lookup"><span data-stu-id="22f2e-219">• Project Team members associated View</span></span>|
|  <span data-ttu-id="22f2e-220">إدخال الوقت</span><span class="sxs-lookup"><span data-stu-id="22f2e-220">Time Entry</span></span>|<span data-ttu-id="22f2e-221">• المعلومات</span><span class="sxs-lookup"><span data-stu-id="22f2e-221">• Information</span></span><br><span data-ttu-id="22f2e-222">• إنشاء إدخال وقت</span><span class="sxs-lookup"><span data-stu-id="22f2e-222">• Create Time Entry</span></span>|<span data-ttu-id="22f2e-223">• إدخالات الوقت الخاصة بي حسب التاريخ</span><span class="sxs-lookup"><span data-stu-id="22f2e-223">• My Time Entries By Date</span></span><br><span data-ttu-id="22f2e-224">• إدخالات الوقت الخاصة بي لهذا الأسبوع</span><span class="sxs-lookup"><span data-stu-id="22f2e-224">• My time Entries for this week</span></span><br><span data-ttu-id="22f2e-225">• إدخالات الوقت للموافقة</span><span class="sxs-lookup"><span data-stu-id="22f2e-225">• Time entries for approval</span></span>|
|  <span data-ttu-id="22f2e-226">سطر دفتر اليومية</span><span class="sxs-lookup"><span data-stu-id="22f2e-226">Journal Line</span></span>|<span data-ttu-id="22f2e-227">• المعلومات</span><span class="sxs-lookup"><span data-stu-id="22f2e-227">• Information</span></span><br><span data-ttu-id="22f2e-228">• إنشاء سريع</span><span class="sxs-lookup"><span data-stu-id="22f2e-228">• Quick create</span></span>|<span data-ttu-id="22f2e-229">• سطور دفتر اليومية النشطة</span><span class="sxs-lookup"><span data-stu-id="22f2e-229">• Active journal lines</span></span><br><span data-ttu-id="22f2e-230">• طريقة العرض المقترنة لسطر دفتر اليومية</span><span class="sxs-lookup"><span data-stu-id="22f2e-230">• Journal Line associated view</span></span>|
|  <span data-ttu-id="22f2e-231">تفاصيل بند الفاتورة</span><span class="sxs-lookup"><span data-stu-id="22f2e-231">Invoice Line Detail</span></span>|<span data-ttu-id="22f2e-232">• المعلومات</span><span class="sxs-lookup"><span data-stu-id="22f2e-232">• Information</span></span><br><span data-ttu-id="22f2e-233">• إنشاء سريع</span><span class="sxs-lookup"><span data-stu-id="22f2e-233">• Quick create</span></span>|<span data-ttu-id="22f2e-234">• تفاصيل بند الفاتورة النشطة</span><span class="sxs-lookup"><span data-stu-id="22f2e-234">• Active Invoice Line Details</span></span><br><span data-ttu-id="22f2e-235">• عمليات فواتير يتحمل نفقتها العميل</span><span class="sxs-lookup"><span data-stu-id="22f2e-235">• Chargeable Invoice Transactions</span></span><br><span data-ttu-id="22f2e-236">• عمليات فواتير تكميلية</span><span class="sxs-lookup"><span data-stu-id="22f2e-236">• Complimentary Invoice Transactions</span></span><br><span data-ttu-id="22f2e-237">• طريقة العرض المقترنة لتفاصيل بند الفاتورة</span><span class="sxs-lookup"><span data-stu-id="22f2e-237">• Invoice Line Detail associated view</span></span><br><span data-ttu-id="22f2e-238">• عمليات فاتورة لا يتحمل نفقتها العميل</span><span class="sxs-lookup"><span data-stu-id="22f2e-238">• Non-Chargeable Invoice Transactions</span></span>|
|  <span data-ttu-id="22f2e-239">فعلي</span><span class="sxs-lookup"><span data-stu-id="22f2e-239">Actual</span></span>|<span data-ttu-id="22f2e-240">• المعلومات</span><span class="sxs-lookup"><span data-stu-id="22f2e-240">• Information</span></span><br><span data-ttu-id="22f2e-241">• القيم الفعلية النشطة</span><span class="sxs-lookup"><span data-stu-id="22f2e-241">• Active Actuals</span></span>|<span data-ttu-id="22f2e-242">• طريقة العرض المقترنة للقيم الفعلية</span><span class="sxs-lookup"><span data-stu-id="22f2e-242">• Actual Associated view</span></span>|

<span data-ttu-id="22f2e-243">قد تحتاج أيضا إلى إضافة الحقول المخصصة في قواعد العمل وفقا لما قمت بتحديده.</span><span class="sxs-lookup"><span data-stu-id="22f2e-243">Custom fields may also need to be added on business rules depending on what you have defined.</span></span> <span data-ttu-id="22f2e-244">وأحد الامثلة الجاهزة لقاعدة العمل **إمكانية تحرير إدخال الوقت استنادًا إلى الحالة‬**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-244">One out-of-the-box example is for the business rule **Editability of Time Entry based on status**.</span></span> <span data-ttu-id="22f2e-245">تحدد هذه القاعدة الحقول التي يلزم تأمينها عندما يكون إدخال الوقت في حالة غير قابلة للتحرير مثل **تمت الموافقة**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-245">This rule defines which fields need to be locked when the Time Entry is in a non-editable status such as **Approved**.</span></span> <span data-ttu-id="22f2e-246">أضف الحقول إلى قاعدة العمل هذه حتى تكون الحقول مؤمنة من التحرير عندما يكون إدخال الوقت بحالة خلاف **مسودة** أو **مرتجع**.</span><span class="sxs-lookup"><span data-stu-id="22f2e-246">Add fields to this business rule so that the fields are locked for editing when the Time Entry is in a status other than **Draft** or **Returned**.</span></span>
