---
title: الفواتير الأولية
description: يوفر هذا الموضوع معلومات حول الفواتير الأولية في Project Operations.
author: rumant
ms.date: 04/05/2021
ms.topic: article
ms.prod: ''
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 3eaf2f19506c5464c302176fc620aad5f29b4ae7
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 05/10/2021
ms.locfileid: "6000645"
---
# <a name="proforma-invoices"></a>الفواتير الأولية

_**ينطبق على:** Project Operations للسيناريوهات المستندة إلى موارد/منتجات غير مخزنة‬_

تمنح الفوترة الأولية مدراء المشروع المستوى الثاني من الموافقة قبل قيامهم بإنشاء الفواتير للعملاء. يتم استكمال المستوى الأول من الموافقة عند الموافقة على إدخالات الوقت والمصروفات والمواد التي يرسلها أعضاء فريق المشروع. تتوفر الفواتير الأولية مؤكدة في وحدة محاسبة المشروع في Project Operations. بإمكان محاسبي المشروع تنفيذ تحديثات إضافية مثل ضريبة المبيعات والمحاسبة وتخطيط الفاتورة.


## <a name="creating-project-invoices"></a>إنشاء فواتير المشروع

يمكن إنشاء فواتير المشروع بمعدل واحدة في المرة أو بشكل مجمع. ويمكنك إنشاؤها يدويا، أو يمكن تكوينها بحيث يتم إنشاؤها في عمليات التشغيل التلقائي.

### <a name="manually-create-project-invoices"></a>إنشاء فواتير المشروع يدويًا 

من صفحة قائمة **عقود المشروع**، يمكنك إنشاء فواتير المشروع بشكل منفصل لكل عقد مشروع، أو يمكنك إنشاء فواتير بشكل مجمع لعقود المشروعات المتعددة.

اتبع هذه الخطوة لإنشاء فاتورة لعقد مشروع محدد.

- في صفحة قائمة **عقود المشروع**، افتح عقد مشروع، ثم قم بتحديد **إنشاء فاتورة**.

    يتم إنشاء فاتورة لكافة الحركات الخاصة بعقد المشروع المحدد والتي تكون حالتها **جاهز للفوترة**. تتضمن هذه الحركات الوقت والمصروفات والمواد والمراحل الرئيسية وأسطر دفتر يومية المبيعات الأخرى غير المفوترة.

اتبع هذه الخطوات لإنشاء فواتير بشكل مجمع.

1. في صفحة قائمة **عقود المشروع**، حدد واحدًا أو أكثر من عقود المشروعات التي يجب عليك إنشاء فاتورة لها ثم قم بتحديد **إنشاء فواتير مشروع**.

    تخبرك رسالة تحذير بأنه قد يكون هناك تأخير قبل إنشاء الفواتير. يتم أيضًا عرض العملية.

2. حدد **موافق** لإغلاق مربع الرسالة.

    يتم إنشاء فاتورة لكافة الحركات الخاصة بشرط التعاقد الذي يكون حالته **جاهز للفوترة**. تتضمن هذه الحركات الوقت والمصروفات والمواد والمراحل الرئيسية وأسطر دفتر يومية المبيعات الأخرى غير المفوترة.

3. لعرض الفواتير التي تم إنشاؤها، انتقل إلى **المبيعات** \> **الفوترة** \> **الفواتير**. ستظهر لك فاتورة واحده لكل عقد مشروع.

### <a name="set-up-automated-creation-of-project-invoices"></a>إعداد الإنشاء التلقائي لفواتير المشروع 

اتبع هذه الخطوات لتكوين التشغيل التلقائي للفاتورة.

1. الانتقال إلى **إعدادات** \> **الوظائف الدفعية**.
2. قم بإنشاء وظيفة دفعية، وقم بتسميتها **إنشاء فواتير عمليات المشروع**. يجب أن يتضمن اسم الوظيفة الدفعية مصطلح "إنشاء الفواتير."
3. في حقل **نوع الوظيفة**، حدد **بلا**. افتراضيًا، يتم تعيين  خيارات **التكرار اليومي** و **نشط** إلى **نعم**.
4. حدد **تشغيل سير العمل**. في مربع حوار **البحث عن سجل**، ستري ثلاث مهام لسير العمل:

    - ProcessRunCaller
    - ProcessRunner
    - UpdateRoleUtilization

5. حدد **ProcessRunCaller**، ثم حدد **إضافة**.
6. في مربع الحوار التالي، حدد **موافق**. يكون سير عمل **السكون** متبوعًا بسير عمل **العملية**.

    يمكنك أيضا تحديد **ProcessRunner** في الخطوة 5. بعد ذلك، عندما تحدد **موافق**، يكون سير عمل **العملية** متبوعًا بسير عمل **السكون**.

يؤدي سير عمل **ProcessRunCaller** و **ProcessRunner** إلى إنشاء الفواتير. **ProcessRunCaller** يستدعي **ProcessRunner**. **ProcessRunner** هو سير العمل الذي ينشئ الفواتير فعليًا. ويمر بكافة بنود العقد التي يجب إنشاء الفواتير لها، ويقوم بإنشاء الفواتير لهذه البنود. لتحديد شروط التعاقد التي يجب إنشاء الفواتير لها، فإن الوظيفة تبحث عن تواريخ تشغيل الفاتورة لشروط التعاقد. إذا كانت بنود العقد التي تنتمي لأحد العقود لها نفس تاريخ تشغيل الفاتورة، سيتم تجميع الحركات في فاتورة واحدة بها بندين للفاتورة. إذا لم تكن هناك حركات لإنشاء فواتير لها، تتخطى الوظيفة إنشاء الفاتورة.

بعد انتهاء تشغيل **ProcessRunner**، فإنه يستدعي **ProcessRunCaller**، الذي يوفر وقت النهاية، وويتم إغلاقه. بعد ذلك يبدأ **ProcessRunCaller** المؤقت الذي يعمل على مدار 24 ساعة من وقت النهاية المحدد. في نهاية المؤقت، يتم إغلاق **ProcessRunCaller**.

تعتبر وظيفة المعالجة الدفعية لإنشاء الفواتير وظيفة متكررة. إذا تم تشغيل هذه المعالجة الدفعية عده مرات، سيتم إنشاء مثيلات متعددة للوظيفة وتتسبب في حدوث أخطاء. بالتالي، يجب عليك بدء عملية المعالجة الدفعية مرة واحدة فقط، وينبغي إعادة تشغيلها في حالة توقفها عن العمل فقط.

> [!NOTE]
> لا يتم تشغيل الفوترة الدفعية إلا لبنود عقد المشروع التي تم تكوينها بواسطة جداول الفواتير. يجب أن يحتوي بند العقد مع طريقة فوترة بسعر ثابت على مراحل مكوّنة. سيحتاج بند عقد المشروع مع طريقة فوترة الوقت والمواد إلى إعداد جدول فاتورة يستند إلى التاريخ. ينطبق الأمر نفسه على بند العقد المستند إلى المشروع.      
 
### <a name="edit-a-draft-invoice"></a>تحرير مسودة فاتورة

عند إنشاء مسودة فاتورة مشروع، يتم سحب كافة حركات المبيعات غير المفوترة التي تم إنشاؤها عند الموافقة على إدخالات الوقت والمصروفات واستخدام المواد إلى الفاتورة. يمكنك إجراء عمليات الضبط التالية في حينما تكون الفاتورة لا تزال في مرحله مسودة:

- قم بحذف تفاصيل بند الفاتورة أو تحريرها.
- قم بتحرير الكمية ونوع الفوترة وتعديلها.

حدد **تأكيد** لتأكيد الفاتورة. إجراء التأكيد هو إجراء أحادي الاتجاه. عندما تحدد **تأكيد**، فإن النظام يجعل الفاتورة للقراءة فقط ويقوم بإنشاء القيم الفعلية للمبيعات الفعلية التي تمت فوترتها من كل تفصيلة بند فاتورة لكل بند فاتورة. وإذا كانت تفاصيل بند الفاتورة تشير إلى قيمة فعلية لمبيعات غير مفوترة، سيقوم النظام أيضا بإلغاء القيمة الفعلية للمبيعات غير المفوترة. (ستشير أي تفاصيل بند فاتورة تم إنشاؤها من إدخال الوقت أو المصروفات إلى القيمة الفعلية للمبيعات غير المفوترة.) يمكن لأنظمة تكامل دفتر الأستاذ العام استخدام هذا الإلغاء لإلغاء عمل المشروع قيد التقدم (WIP) لأغراض محاسبيه.

### <a name="correct-a-confirmed-invoice"></a>تصحيح فاتورة مؤكدة

يمكن تحرير فواتير مؤكدة (مُصححة). عندما تقوم بتصحيح فاتورة مؤكدة، يتم إنشاء مسودة فاتورة تصحيحية جديدة. لأن الافتراض هو أنك تريد إلغاء كافة الحركات والكميات من الفاتورة الأصلية، فان هذه الفاتورة التصحيحية تتضمن كافة الحركات من الفاتورة الاصلية، وكافة الكميات الموجودة بها هي 0 (صفر).

إذا كانت أي حركات لا تتطلب التصحيح، فيمكنك إزالتها من مسودة الفاتورة التصحيحية. إذا كنت ترغب في إلغاء أو إرجاع كمية جزئيه فقط، فيمكنك تحرير حقل **الكمية** في تفاصيل البند. إذا قمت بفتح تفاصيل بند الفاتورة، فيمكنك الاطلاع على كمية الفاتورة الأصلية. يمكنك بعد ذلك تحرير كمية الفاتورة الحالية حتى تكون أقل من أو أكبر من كمية الفاتورة الأصلية.

عندم تقوم بتأكيد فاتورة تصحيحية، يتم إلغاء القيمة الفعلية للمبيعات المفوترة الأصلية، وإنشاء القيمة الفعلية للمبيعات المفوترة الجديدة. إذا تم تخفيض الكمية، سيتسبب الفرق في إنشاء قمة فعلية لمبيعات غير مفوترة جديدة أيضًا. على سبيل المثال، إذا كانت المبيعات الأصلية المفوترة لمدة ثماني ساعات، وكانت تفاصيل بند الفاتورة التصحيحية تحتوي على كمية مخفضة تبلغ ست ساعات، فسيتم إلغاء بند المبيعات الأصلي المفوتر ويتم إنشاء قيمتين فعليتين جديدتين:

- قيمة فعلية لمبيعات تمت فوترتها لست ساعات.
- قيمة فعلية لمبيعات غير مفوترة للساعتين المتبقيتين. ويمكن أن يتم فوترة هذه الحركة لاحقا أو وضع علامة عليها على أنها غير خاضعة للرسوم، وذلك وفقا لعمليات التفاوض مع العميل.


[!INCLUDE[footer-include](../includes/footer-banner.md)]
