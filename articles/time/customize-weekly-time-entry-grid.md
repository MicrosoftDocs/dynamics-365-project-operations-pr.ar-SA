---
title: توسيع إدخالات الوقت
description: يوفر هذا الموضوع معلومات حول كيف يمكن للمطورين توسيع عنصر تحكم إدخال الوقت.
author: stsporen
manager: Annbe
ms.date: 10/08/2020
ms.topic: article
ms.service: project-operations
ms.reviewer: kfend
ms.author: stsporen
ms.openlocfilehash: d9c14f0550d4429ac794607a3fb61717566207e4
ms.sourcegitcommit: 4cf1dc1561b92fca4175f0b3813133c5e63ce8e6
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 10/28/2020
ms.locfileid: "4124622"
---
# <a name="extending-time-entries"></a>توسيع إدخالات الوقت

_**ينطبق علي:** ‏‫Project Operations للسيناريوهات المستندة إلى مورد/غير مخزنة‬، ‏‫النشر الخفيف – التعامل مع الفواتير الأولية‬_

يتضمن Dynamics 365 Project Operations عنصر تحكم مخصصًا وقابلاً للتوسيع لإدخال الوقت. يتضمن عنصر التحكم هذا الميزات التالية:

- إدخال الوقت أفقيًا خلال أسبوع
- الإجماليات حسب اليوم أو الصف أو الأسبوع
- نسخ الصفوف أو الأسابيع
- إدخال الوقت عبر HH: mm أو HH. HH (يتحول تلقائيًا إلى HH. hh)
- الاستيراد من التعيينات أو الحجوزات أو المواعيد

يمكن توسيع إدخالات الوقت في ناحيتين:
- [إضافة إدخالات وقت مخصصة لاستخدامك الخاص](#add)
- [تخصيص عنصر تحكم إدخال الوقت الأسبوعي](#customize)

## <a name="add-custom-time-entries-for-your-own-use"></a><a name="add"></a>إضافة إدخالات وقت مخصصة لاستخدامك الخاص

تعتبر إدخالات الوقت كيانًا أساسيًا يُستخدم في سيناريوهات متعددة. في الموجة 1 لشهر أبريل 2020، تم تقديم حل TESA الأساسي. يوفر TESA كيان **إعدادات** بالإضافة إلى دور أمان جديد **مستخدم إدخال الوقت**. وقد تم أيضًا تضمين الحقلين الجديدين، **msdyn_start** و **msdyn_end** اللذين لديهما علاقة مباشرة بالحقل **msdyn_duration**. يسمح الكيان ودور الأمان والحقول الجديدة بالحصول على مقاربة موحدة للوقت عبر منتجات متعددة.


### <a name="time-source-entity"></a>كيان مصدر الوقت
| الحقل | ‏‏الوصف | 
|-------|------------|
| اسم  | اسم إدخال مصدر الوقت المستخدم كقيمة التحديد أثناء إنشاء إدخالات الوقت. |
| مصدر الوقت الافتراضي [مصدر الوقت: isdefault] | بشكل افتراضي، يمكن تمييز مصدر وقت واحد فقط في مصدر الوقت الافتراضي. يسمح ذلك بتعيين الإدخالات إلى مصدر وقت افتراضي في حال عدم تحديد مصدر وقت. |
|نوع مصدر الوقت [مصدر الوقت: sourcetype] | نوع المصدر عبارة عن خيار (نوع مصدر إدخال الوقت) يسمح باقتران مصدر الوقت بتطبيق. تحتفظ Microsoft بقيم أكبر من 190,000,000.|


### <a name="time-entries-and-the-time-source-entity"></a>إدخالات الوقت وكيان مصدر الوقت
يقترن كل إدخال وقت بسجل مصدر وقت. ويحدد هذا السجل الطريقة الطريقة والتطبيقات التي يجب أن تعالج إدخال الوقت.

إدخالات الوقت هي دائماً كتلة وقت متجاورة واحدة حيث ترتبط البداية والنهاية والمدة.

سيقوم المنطق بشكل تلقائي بتحديث سجل إدخال الوقت في الحالات التالية:

- إذا تم توفير حقلين من الحقول الثلاثة التالية، فسيتم حساب الحقل الثالث بشكل تلقائي: 

    - **msdyn_start**
    - **msdyn_end**
    - **msdyn_duration**

- الحقلان **msdyn_start** و **msdyn_end** يدركان المنطقة الزمنية.
- ستبدأ عند منتصف الليل إدخالات الوقت التي تم إنشاؤها فقط مع تحديد **msdyn_date** و **msdyn_duration**. سيتم تحديث الحقلين **msdyn_start** و **msdyn_end** بشكل تلقائي.

#### <a name="time-entry-types"></a>أنواع إدخالات الوقت

تتضمن سجلات إدخالات الوقت نوعًا مقترنًا يحدد السلوك في سير مهام الإرسال للتطبيق المقترن.

|التسمية | قيمة|
|-----|-----|
|وقت الراحة   |192,355,000|
|السفر | 192,355,001|
|العمل الإضافي   | 192,354,320|
|عمل   | 192,350,000|
|غياب    | 192,350,001|
|إجازة   | 192,350,002|



## <a name="customize-the-weekly-time-entry-control"></a><a name="customize"></a>تخصيص عنصر تحكم إدخال الوقت الأسبوعي
بإمكان المطورين إضافة المزيد من الحقول وعمليات البحث إلى كيانات أخرى، وتطبيق قواعد عمل مخصصة لدعم سيناريوهات العمل لديهم.

### <a name="add-custom-fields-with-lookups-to-other-entities"></a>إضافة حقول مخصصه مع عمليات بحث إلى كيانات أخرى
هناك ثلاث خطوات أساسية لإضافة حقل مخصص إلى شبكة إدخال الوقت الأسبوعي.

1. قم بإضافة الحقل المخصص إلى مربع الحوار إنشاء سريع.
2. قم بتكوين الشبكة لعرض الحقل المخصص.
3. أضف الحقل المخصص إلى سير مهمة تحرير الصف أو سير مهمة تحرير الخلية.

تأكد أيضًا من أن الحقل الجديد لديه عمليات التحقق من الصحة المطلوبة في سير مهمة تحرير الصف أو الخلية. كجزء من هذه الخطوة، يجب تأمين الحقل استنادًا إلى حالة إدخال الوقت.

### <a name="add-the-custom-field-to-the-quick-create-dialog-box"></a>إضافة الحقل المخصص إلى مربع الحوار إنشاء سريع
أضف الحقل المخصص إلى مربع الحوار **إنشاء سريع لإدخال الوقت**. بعد ذلك، عند إضافة إدخالات الوقت، يمكن إدخال قيمة بتحديد **جديد**.

### <a name="configure-the-grid-to-show-the-custom-field"></a>تكوين الشبكة لعرض الحقل المخصص
هناك طريقتان لإضافة حقل مخصص إلى شبكة إدخال الوقت الأسبوعية:

  - تخصيص طريقة عرض وإضافة حقل مخصص
  - إنشاء إدخال وقت افتراضي مخصص جديد 


#### <a name="customize-a-view-and-add-a-custom-field"></a>تخصيص طريقة عرض وإضافة حقل مخصص

يمكنك تخصيص طريقة عرض **إدخالات الوقت الأسبوعية الخاصة بي** وإضافة الحقل المخصص اليها. يمكنك اختيار موضع وحجم الحقل المخصص في الشبكة عن طريق تحرير هذه الخصائص في طريقه العرض.

#### <a name="create-a-new-default-custom-time-entry"></a>إنشاء إدخال وقت افتراضي مخصص جديد

ينبغي أن تحتوي طريقه العرض هذه على حقلي **الوصف** و **التعليقات الخارجية**، بالاضافه إلى الاعمده التي ترغب في وجودها في الشبكة. 

1. اختر الموضع والحجم وترتيب الفرز الافتراضي للشبكة عن طريق تحرير هذه الخصائص في طريقه العرض. 
2. قم بتكوين عنصر التحكم المخصص لطريقه العرض هذه بحيث يكون عنصر التحكم في **شبكة إدخال الوقت**. 
3. قم باضافه عنصر التحكم هذا إلى طريقه العرض، وحدده للويب والهاتف والكمبيوتر اللوحي. 
4. قم بتكوين المعلمات الخاصة بشبكة إدخال الوقت الأسبوعية. 
5. قم بتعيين حقل **تاريخ البدء** إلى **msdyn_date**، وقم بتعيين حقل **المدة** إلى **msdyn_duration**، وقم بتعيين حقل **الحالة** إلى **msdyn_entrystatus**. 
6. بالنسبة إلى طريقة العرض الافتراضية، يتم تعيين حقل **قائمة حالة القراءة فقط** إلى **192350002,192350003,192350004**. يتم تعيين حقل **سير مهمة تحرير الصف** إلى **msdyn_timeentryrowedit**. يتم تعيين حقل **سير مهمة تحرير الخلية** إلى **msdyn_timeentryedit**. 
7. يمكنك تخصيص هذه الحقول لإضافة حالة للقراءة فقط أو ازالتها ، أو لاستخدام تجربة مختلفة مستنده إلى مهمة (TBX) لتحرير الصفوف أو الخلايا. أصبح هذه الحقول مرتبطة الآن بقيمه ثابتة.


> [!NOTE] 
> سيؤدي استخدام الخيارين إلى إزالة بعض التصفية الجاهزة في كيانات **المشروع** و **مهمة المشروع**، بحيث تصبح كافة طرق عرض البحث للكيانات مرئية. تكون طرق عرض البحث ذات الصلة مرئية فقط.

حدد سير المهمة المناسب للحقل المخصص. إذا أضفت الحقل إلى الشبكة، فيجب أن يتم وضعه في سير مهمة تحرير الصف المستخدم للحقول التي تنطبق على الصف الكامل لإدخالات الوقت. إذا كان الحقل المخصص يحتوي على قيمة فريدة في كل يوم، مثل الحقل المخصص لـ **وقت الانتهاء**، فيجب الانتقال إلى سير مهمة تحرير الخلية.

لأضافه الحقل المخصص إلى سير مهمة، اسحب عنصر **حقل** إلى الموضع المناسب في الصفحة، ثم قم بتعيين خصائص الحقل. قم بتعيين خاصية **المصدر** إلى **إدخال الوقت**، وقم بتعيين خاصية **حقل البيانات** إلى الحقل المخصص. تحدد خاصية **الحقل** اسم العرض على الصفحة TBX. حدد **تطبيق** لحفظ التغييرات التي أجريتها على الحقل، ثم حدد **تحديث** لحفظ التغييرات التي تمت على الصفحة.

لاستخدام صفحة TBX مخصصة جديدة بدلاً من ذلك، قم بإنشاء عملية جديده. قم بتعيين الفئة إلى **سير إجراءات العمل**، وقم بتعيين الكيان إلى **وقت الإدخال**، وقم بتعيين نوع عملية الاعمال إلى **تشغيل العملية كسير مهمة**. ضمن **خصائص**، يجب أن يتم تعيين خاصية **اسم الصفحة** إلى اسم العرض للصفحة. قم بإضافة جميع الحقول ذات الصلة إلى صفحة TBX. احفظ العملية وقم بتنشيطها. قم بتحديث خاصيه عنصر التحكم المخصص لسير المهمة ذات الصلة إلى قيمة **الاسم** الموجود في العملية.

### <a name="add-new-option-set-values"></a>إضافة قيم مجموعات خيارات جديدة
لإضافة قيم مجموعات خيارات إلى حقل جاهز، افتح صفحه التحرير للحقل ، وضمن **النوع**، حدد **تحرير** بجوار مجموعة الخيارات. أضف خيارًا جديدًا يتضمن تسمية ولونًا مخصصين. إذا أردت أضافه حالة إدخال وقت جديد، تكون تسمية الحقل الجاهز **حالة الإدخال** وليس **الحالة**.

### <a name="designate-a-new-time-entry-status-as-read-only"></a>تعيين حالة إدخال وقت جديد للقراءة فقط
لتعيين حالة إدخال وقت جديد للقراءة فقط، أضف قيمة إدخال الوقت الجديد إلى خاصية **قائمة حالة للقراءة فقط**. سيتم تأمين الجزء القابل للتحرير من شبكه إدخال الوقت للصفوف التي لها الحالة الجديدة.
بعد ذلك، قم باضافه قواعد الاعمال لتأمين جميع الحقول في صفحات TBX لـ **تحرير صف إدخال الوقت** و **تحرير إدخال الوقت**. يمكنك الوصول إلى قواعد العمل لهذه الصفحات من خلال فتح محرر سير إجراءات العمل الخاص بالصفحة ثم تحديد **قواعد العمل**. يمكنك أضافه الحالة الجديدة إلى الشرط في قواعد العمل الموجودة، أو يمكنك أضافه قاعده عمل جديده للحالة الجديدة.

### <a name="add-custom-validation-rules"></a>إضافة قواعد التحقق من الصحة المخصصة
هناك نوعان من قواعد التحقق من الصحة التي يمكنك إضافتها إلى تجربة شبكة إدخال الوقت الأسبوعية:

- قواعد عمل من جانب العميل التي تعمل في مربعات حوار الإنشاء السريع وعلى صفحات TBX.
- عمليات التحقق من صحة المكونات الإضافية على جانب الخادم التي تنطبق على كافة تحديثات إدخال الوقت.

#### <a name="business-rules"></a>قواعد العمل
استخدم قواعد العمل لتأمين الحقول وإلغاء تأمينها، وأدخل القيم الافتراضية في الحقول، وقم بتعريف عمليات التحقق من الصحة التي تتطلب معلومات من سجل إدخال الوقت الحالي فقط. يمكنك الوصول إلى قواعد العمل صفحة TBX من خلال فتح محرر سير إجراءات العمل الخاص بالصفحة ثم تحديد **قواعد العمل**. يمكنك بعد ذلك تحرير قواعد العمل الموجودة أو إضافة قاعده عمل جديده. للحصول على مزيد من عمليات التحقق المخصصة، يمكنك استخدام قاعده عمل لتشغيل JavaScript.

#### <a name="plug-in-validations"></a>عمليات التحقق من صحة المكونات الإضافية
استخدم المكونات الإضافية لعمليات التحقق من الصحة التي تتطلب سياقا أكثر من الذي يتوفر في سجل إدخال وقت واحد، أو لأي عمليات تحقق من الصحة ترغب في تشغيلها على التحديثات المضمنة في الشبكة. لإكمال التحقق من الصحة، قم بإنشاء مكون إضافي مخصص في كيان **إدخال الوقت**.

### <a name="copying-time-entries"></a>نسخ إدخالات الوقت
استخدم طريقة العرض **نسخ أعمدة إدخالات الوقت** لتحديد قائمة الحقول التي سيتم نسخها أثناء إدخال الوقت. الحقلان **التاريخ** و **الوقت** هما حقلان مطلوبان، ويجب عدم إزالتهما من طريقة العرض.
