---
title: توسيع إدخالات الوقت
description: يوفر هذا الموضوع معلومات حول كيف يمكن للمطورين توسيع عنصر تحكم إدخال الوقت.
author: stsporen
manager: Annbe
ms.date: 10/01/2020
ms.topic: article
ms.service: dynamics-365-customerservice
ms.reviewer: kfend
ms.author: stsporen
ms.openlocfilehash: 93f411ad7c86beefcc35e7799a03987dacdcd62b
ms.sourcegitcommit: 5a29adce48133e09f051929e8544d6c2c93c025d
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 10/02/2020
ms.locfileid: "3930864"
---
# <a name="extending-time-entries"></a>توسيع إدخالات الوقت

_**ينطبق علي:** ‏‫Project Operations للسيناريوهات المستندة إلى مورد/غير مخزنة‬، ‏‫النشر الخفيف – التعامل مع الفواتير الأولية‬_

يتضمن Dynamics 365 Project Operations عنصر تحكم مخصصًا وقابلاً للتوسيع لإدخال الوقت. يتضمن عنصر التحكم هذا الميزات التالية:

- إدخال الوقت أفقيًا خلال أسبوع
- الإجماليات حسب اليوم أو الصف أو الأسبوع
- نسخ الصفوف أو الأسابيع
- إدخال الوقت عبر HH: mm أو HH. HH (يتحول تلقائيًا إلى HH. hh)
- الاستيراد من التعيينات أو الحجوزات أو المواعيد

يمكن توسيع إدخالات الوقت في ناحيتين:
- [إضافة إدخالات وقت مخصصة لاستخدامك الخاص](#add)
- [تخصيص عنصر تحكم إدخال الوقت الأسبوعي](#customize)

## <a name="add-custom-time-entries-for-your-own-use"></a><a name="add"></a>إضافة إدخالات وقت مخصصة لاستخدامك الخاص.

إدخالات الوقت‬ هي كيان أساسي مصمم لاستخدامه في سيناريوهات متعددة. في الموجة 1 لشهر أبريل 2020، تم تقديم الحل الأساسي TESA، وهو يوفر كيان **الإعدادات** بالإضافة إلى دور أمان جديد **مستخدم إدخال الوقت**. وقد تم أيضًا تضمين الحقلين الجديدين، **msdyn_start** و**msdyn_end** اللذين لديهما علاقم مباشرة بالحقل **msdyn_duration**. يسمح الكيان ودور الأمان والحقول الجديدة بالحصول على مقاربة موحدة للوقت عبر منتجات متعددة.


### <a name="time-source-entity"></a>كيان مصدر الوقت
| الحقل | ‏‏الوصف | 
|-------|------------|
| اسم  | اسم إدخال مصدر الوقت المستخدم كقيمة التحديد أثناء إنشاء إدخال الوقت. |
| مصدر الوقت الافتراضي [مصدر الوقت: isdefault] | بشكل افتراضي، يمكن تمييز مصدر وقت واحد فقط في مصدر الوقت الافتراضي. هذه الإمكانية تسمح بتعيين الإدخالات إلى مصدر وقت افتراضي في حال عدم تحديد مصدر وقت. |
|نوع مصدر الوقت [مصدر الوقت: sourcetype] | نوع المصدر عبارة عن خيار (نوع مصدر إدخال الوقت) يسمح باقتران مصدر الوقت بتطبيق. ستُضاف المزيد من القيم إلى مجموعة الخيارات هذه عند إضافة تطبيقات إضافية. لاحظ أن Microsoft تحتفظ بقيم أكبر من 190,000,000.|


### <a name="time-entries-and-the-time-source-entity"></a>إدخالات الوقت وكيان مصدر الوقت
يقترن كل إدخال وقت بسجل مصدر وقت. ويحدد هذا السجل الطريقة الطريقة والتطبيقات التي يجب أن تعالج إدخال الوقت.

إدخالات الوقت هي دائماً كتلة وقت متجاورة واحدة حيث ترتبط البداية والنهاية والمدة.

سيقوم المنطق بشكل تلقائي بتحديث سجل إدخال الوقت في الحالات التالية:

- إذا تم توفير حقلين من الحقول الثلاثة التالية، فسيتم حساب الحقل الثالث بشكل تلقائي 

    - **msdyn_start**
    - **msdyn_end**
    - **msdyn_duration**

- الحقلان **msdyn_start** و**msdyn_end** يدركان المنطقة الزمنية.
- ستبدأ إدخال الوقت المُنشأة فقط مع تحديد **msdyn_date** و**msdyn_duration** عند منتصف الليل، وسيتم تحديث **msdyn_start** و**msdyn_end** وفقًا لذلك.

#### <a name="time-entry-types"></a>أنواع إدخالات الوقت

تتضمن سجلات إدخالات الوقت نوعًا مقترنًا يحدد السلوك في سير مهام الإرسال للتطبيق المقترن.

|التسمية | قيمة|
|-----|-----|
|وقت الراحة   |192,355,000|
|السفر | 192,355,001|
|العمل الإضافي   | 192,354,320|
|عمل   | 192,350,000|
|غياب    | 192,350,001|
|إجازة   | 192,350,002|



## <a name="customize-the-weekly-time-entry-control"></a><a name="customize"></a>تخصيص عنصر تحكم إدخال الوقت الأسبوعي
بإمكان المطورين إضافة المزيد من الحقول وعمليات البحث إلى كيانات أخرى، وتطبيق قواعد عمل مخصصة لدعم سيناريوهات العمل لديهم.

### <a name="add-custom-fields-with-lookups-to-other-entities"></a>إضافة حقول مخصصه مع عمليات بحث إلى كيانات أخرى
هناك ثلاث خطوات أساسية لإضافة حقل مخصص إلى شبكة إدخال الوقت الأسبوعي.

- قم بإضافة الحقل المخصص إلى مربع الحوار إنشاء سريع.
- قم بتكوين الشبكة لعرض الحقل المخصص.
- أضف الحقل المخصص إما إلى سير مهمة تحرير الصف أو سير مهمة تحرير الخلية.

يجب أيضا التاكد من أن الحقل الجديد يحتوي علي الإعدادات المطلوبة في سير مهمة تحرير الصف أو الخلية. كجزء من هذه الخطوة، يجب تأمين الحقل، وذلك استنادًا إلى حالة إدخال الوقت.

#### <a name="add-the-custom-field-to-the-quick-create-dialog-box"></a>إضافة الحقل المخصص إلى مربع الحوار إنشاء سريع
يجب إضافة الحقل المخصص إلى مربع الحوار **إنشاء سريع لإدخال الوقت**. بإمكان المستخدمين إدخال قيمة عندما يضيفون إدخالات الوقت بتحديد **جديد**.

#### <a name="configure-the-grid-to-show-the-custom-field"></a>تكوين الشبكة لعرض الحقل المخصص
هناك طريقتان لإضافة حقل مخصص إلى شبكة إدخال الوقت الأسبوعية:

  - تخصيص طريقة عرض وإضافة حقل مخصص
  - إنشاء إدخال وقت افتراضي مخصص جديد 


**تخصيص طريقة عرض وإضافة حقل مخصص**

يمكنك تخصيص طريقة عرض **إدخالات الوقت الأسبوعية الخاصة بي** وإضافة الحقل المخصص اليها. يمكنك اختيار وضع وحجم الحقل المخصص في الشبكة عن طريق تحرير هذه الخصائص في طريقه العرض.

**إنشاء إدخال وقت افتراضي مخصص جديد** 

ينبغي أن تحتوي طريقه العرض هذه على حقلي **الوصف** و**التعليقات الخارجية**، بالاضافه إلى الاعمده التي ترغب في وجودها في الشبكة. 

1. اختر الموضع والحجم وترتيب الفرز الافتراضي للشبكة عن طريق تحرير هذه الخصائص في طريقه العرض. 
2. قم بتكوين عنصر التحكم المخصص لطريقه العرض هذه بحيث يكون عنصر التحكم في **شبكة إدخال الوقت**. 
3. قم باضافه عنصر التحكم هذا إلى طريقه العرض، وحدده للويب والهاتف والكمبيوتر اللوحي. 
4. قم بتكوين المعلمات الخاصة بشبكة إدخال الوقت الأسبوعية. قم بتعيين حقل **تاريخ البدء** إلى **msdyn_date**، وقم بتعيين حقل **المدة** إلى **msdyn_duration**، وقم بتعيين حقل **الحالة** إلى **msdyn_entrystatus**. 
5. بالنسبة لطريقة العرض الافتراضية، يتم تعيين حقل **قائمة الحالة للقراءة فقط** إلى **192350002,192350003,192350004**، ويتم تعيين الحقل **سير مهمة تحرير الصف** إلى **msdyn_timeentryrowedit**، ويتم تعيين حقل **سير مهمة تحرير الخلية** إلى **msdyn_timeentryedit**. 
6. يمكنك تخصيص هذه الحقول لإضافة حالة للقراءة فقط أو ازالتها ، أو لاستخدام تجربة مختلفة مستنده إلى مهمة (TBX) لتحرير الصفوف أو الخلايا. يجب أن تكون هذه الحقول مرتبطة بقيمه ثابتة.


> [!NOTE] 
> سيؤدي كلا الخيارين إلى إزالة بعض التصفية الجاهزة في كيانات **المشروع** و**مهمة المشروع**، بحيث تصبح كافة طرق عرض البحث للكيانات مرئية. تكون طرق عرض البحث ذات الصلة مرئية فقط.
يجب تحديد سير المهمة المناسب للحقل المخصص. وعلى الأرجح، إذا قمت باضافه الحقل إلى الشبكة، فيجب ان يتم وضعه في سير مهمة تحرير الصف المستخدم للحقول التي تنطبق على الصف الكامل لإدخالات الوقت. إذا كان الحقل المخصص يحتوي على قيمة فريدة في كل يوم، مثل الحقل المخصص لـ **وقت الانتهاء**، فيجب الانتقال إلى سير مهمة تحرير الخلية.

لأضافه الحقل المخصص إلى سير مهمة، اسحب عنصر **حقل** إلى الموضع المناسب في الصفحة، ثم قم بتعيين خصائص الحقل. قم بتعيين خاصية **المصدر** إلى **إدخال الوقت**، وقم بتعيين خاصية **حقل البيانات** إلى الحقل المخصص. تحدد خاصية **الحقل** اسم العرض على الصفحة TBX. حدد **تطبيق** لحفظ التغييرات التي أجريتها على الحقل، ثم حدد **تحديث** لحفظ التغييرات التي تمت على الصفحة.

لاستخدام صفحة TBX مخصصة جديدة بدلاً من ذلك، قم بإنشاء عملية جديده. قم بتعيين الفئة إلى **سير إجراءات العمل**، وقم بتعيين الكيان إلى **وقت الإدخال**، وقم بتعيين نوع عملية الاعمال إلى **تشغيل العملية كسير مهمة**. ضمن **خصائص**، يجب أن يتم تعيين خاصية **اسم الصفحة** إلى اسم العرض للصفحة. قم بإضافة جميع الحقول ذات الصلة إلى صفحة TBX. احفظ العملية وقم بتنشيطها، ثم قم بتحديث خاصيه عنصر التحكم المخصص لسير المهمة ذات الصلة إلى قيمة **الاسم** الموجود في العملية.

### <a name="add-new-option-set-values"></a>إضافة قيم مجموعات خيارات جديدة
لإضافة قيم مجموعات خيارات إلى حقل جاهز، افتح صفحه التحرير للحقل ، ثم ضمن **النوع**، حدد **تحرير** بجوار مجموعة الخيارات. بعد ذلك، قم باضافه خيار جديد يحتوي على تسمية ولون مخصصين. إذا كنت تريد أضافه حاله إدخال الوقت الجديدة، تتم تسمية الحقل الجاهز بـ **حالة الإدخال** وليس **الحالة**.

### <a name="designate-a-new-time-entry-status-as-read-only"></a>تعيين حالة إدخال وقت جديد للقراءة فقط
لتعيين حالة إدخال وقت جديد للقراءة فقط، أضف قيمة إدخال الوقت الجديد إلى خاصية **قائمة حالة للقراءة فقط**. سيتم تأمين الجزء القابل للتحرير من شبكه إدخال الوقت للصفوف التي لها الحالة الجديدة.
بعد ذلك، قم باضافه قواعد الاعمال لتأمين جميع الحقول في صفحات TBX لـ **تحرير صف إدخال الوقت** و**تحرير إدخال الوقت**. يمكنك الوصول إلى قواعد العمل لهذه الصفحات من خلال فتح محرر سير إجراءات العمل الخاص بالصفحة ثم تحديد **قواعد العمل**. يمكنك أضافه الحالة الجديدة إلى الشرط في قواعد العمل الموجودة، أو يمكنك أضافه قاعده عمل جديده للحالة الجديدة.

### <a name="add-custom-validation-rules"></a>إضافة قواعد التحقق من الصحة المخصصة
هناك نوعان من قواعد التحقق من الصحة التي يمكنك إضافتها إلى تجربة شبكة إدخال الوقت الأسبوعية:

- قواعد عمل من جانب العميل التي تعمل في مربعات حوار الإنشاء السريع وعلى صفحات TBX.
- عمليات التحقق من صحة المكونات الإضافية على جانب الخادم التي تنطبق على كافة تحديثات إدخال الوقت.

#### <a name="business-rules"></a>قواعد العمل
استخدم قواعد العمل لتأمين الحقول وإلغاء تأمينها، وأدخل القيم الافتراضية في الحقول، وقم بتعريف عمليات التحقق من الصحة التي تتطلب معلومات من سجل إدخال الوقت الحالي فقط. يمكنك الوصول إلى قواعد العمل صفحة TBX من خلال فتح محرر سير إجراءات العمل الخاص بالصفحة ثم تحديد **قواعد العمل**. يمكنك بعد ذلك تحرير قواعد العمل الموجودة أو إضافة قاعده عمل جديده. للحصول على مزيد من عمليات التحقق المخصصة، يمكنك استخدام قاعده عمل لتشغيل JavaScript.

#### <a name="plug-in-validations"></a>عمليات التحقق من صحة المكونات الإضافية
يجب استخدام المكونات الاضافيه لعمليات التحقق من الصحة التي تتطلب سياقا أكثر من الذي يتوفر في سجل إدخال وقت واحد، أو لأي عمليات تحقق من الصحة ترغب في تشغيلها على التحديثات المضمنة في الشبكة. لإكمال التحقق من الصحة، قم بإنشاء مكون إضافي مخصص في كيان **إدخال الوقت**.
