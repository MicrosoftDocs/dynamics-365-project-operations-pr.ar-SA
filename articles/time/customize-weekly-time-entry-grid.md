---
title: توسيع إدخالات الوقت
description: يوفر هذا المقال معلومات حول قدرة المطورين على توسيع عنصر تحكم إدخال الوقت.
author: stsporen
ms.date: 01/27/2022
ms.topic: article
ms.reviewer: johnmichalak
ms.author: stsporen
ms.openlocfilehash: 7ed501af3fb2059ab3c3ab6f6c957fe518595d55
ms.sourcegitcommit: 6cfc50d89528df977a8f6a55c1ad39d99800d9b4
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 06/03/2022
ms.locfileid: "8914754"
---
# <a name="extending-time-entries"></a>توسيع إدخالات الوقت

_**ينطبق علي:** ‏‫Project Operations للسيناريوهات المستندة إلى مورد/غير مخزنة‬، ‏‫النشر الخفيف – التعامل مع الفواتير الأولية‬_

يتضمن Dynamics 365 Project Operations عنصر تحكم إدخال وقت مخصص قابل للتوسعة. يتضمن عنصر التحكم هذا الميزات التالية:

- إدخال الوقت أفقيًا خلال أسبوع
- الإجماليات حسب اليوم أو الصف أو الأسبوع
- نسخ الصفوف أو الأسابيع
- إدخال الوقت عبر HH: mm أو HH. HH (يتحول تلقائيًا إلى HH. hh)
- الاستيراد من التعيينات أو الحجوزات أو المواعيد

يمكن توسيع إدخالات الوقت في ناحيتين:
- [إضافة إدخالات وقت مخصصة لاستخدامك الخاص](#add)
- [تخصيص عنصر تحكم إدخال الوقت الأسبوعي](#customize)

## <a name="add-custom-time-entries-for-your-own-use"></a><a name="add"></a>إضافة إدخالات وقت مخصصة لاستخدامك الخاص

تعتبر إدخالات الوقت كيانًا أساسيًا يُستخدم في سيناريوهات متعددة. في الموجة 1 لشهر أبريل 2020، تم تقديم حل TESA الأساسي. يوفر TESA كيان **إعدادات** بالإضافة إلى دور أمان جديد **مستخدم إدخال الوقت**. وقد تم أيضًا تضمين الحقلين الجديدين، **msdyn_start** و **msdyn_end** اللذين لديهما علاقة مباشرة بالحقل **msdyn_duration**. يسمح الكيان ودور الأمان والحقول الجديدة بالحصول على مقاربة موحدة للوقت عبر منتجات متعددة.


### <a name="time-source-entity"></a>كيان مصدر الوقت
| الحقل | ‏‏الوصف | 
|-------|------------|
| اسم  | اسم إدخال مصدر الوقت المستخدم كقيمة التحديد أثناء إنشاء إدخالات الوقت. |
| مصدر الوقت الافتراضي [مصدر الوقت: isdefault] | بشكل افتراضي، يمكن تمييز مصدر وقت واحد فقط في مصدر الوقت الافتراضي. يسمح ذلك بتعيين الإدخالات إلى مصدر وقت افتراضي في حال عدم تحديد مصدر وقت. |
|نوع مصدر الوقت [مصدر الوقت: sourcetype] | نوع المصدر عبارة عن خيار (نوع مصدر إدخال الوقت) يسمح باقتران مصدر الوقت بتطبيق. تحتفظ Microsoft بقيم أكبر من 190,000,000.|


### <a name="time-entries-and-the-time-source-entity"></a>إدخالات الوقت وكيان مصدر الوقت
يقترن كل إدخال وقت بسجل مصدر وقت. يحدد هذا السجل التطبيقات التي ينبغي لها معالجة إدخال الوقت وطريقة ذلك.

إدخالات الوقت هي دائماً كتلة وقت متجاورة واحدة حيث ترتبط البداية والنهاية والمدة.

سيقوم المنطق بشكل تلقائي بتحديث سجل إدخال الوقت في الحالات التالية:

- إذا تم توفير حقلين من الحقول الثلاثة التالية، فسيتم حساب الحقل الثالث بشكل تلقائي: 

    - **msdyn_start**
    - **msdyn_end**
    - **msdyn_duration**

- يمثل الحقلان **msdyn_start** و **msdyn_end** مدركة للمناطق الزمنية.
- ستبدأ عند منتصف الليل إدخالات الوقت التي تم إنشاؤها فقط مع تحديد **msdyn_date** و **msdyn_duration**. سيتم تحديث الحقلين **msdyn_start** و **msdyn_end** بشكل تلقائي.

#### <a name="time-entry-types"></a>أنواع إدخالات الوقت

تتضمن سجلات إدخالات الوقت نوعًا مقترنًا يحدد السلوك في سير مهام الإرسال للتطبيق المقترن.

|التسمية | قيمة|
|-----|-----|
|وقت الراحة   |192,355,000|
|السفر | 192,355,001|
|العمل الإضافي   | 192,354,320|
|عمل   | 192,350,000|
|غياب    | 192,350,001|
|إجازة   | 192,350,002|


## <a name="customize-the-weekly-time-entry-control"></a><a name="customize"></a>تخصيص عنصر تحكم إدخال الوقت الأسبوعي
بإمكان المطورين إضافة المزيد من الحقول وعمليات البحث إلى كيانات أخرى، وتطبيق قواعد عمل مخصصة لدعم سيناريوهات العمل لديهم.

### <a name="add-custom-fields-with-lookups-to-other-entities"></a>إضافة حقول مخصصه مع عمليات بحث إلى كيانات أخرى
هناك ثلاث خطوات أساسية لإضافة حقل مخصص إلى شبكة إدخال الوقت الأسبوعي.

1. قم بإضافة الحقل المخصص إلى مربع الحوار **إنشاء سريع**.
2. قم بتكوين الشبكة لعرض الحقل المخصص.
3. أضف الحقل المخصص إلى صفحة **تحرير الصف** أو **تحرير إدخال الوقت**، بحسب الاقتضاء.

تأكد من أن الحقل الجديد يحتوي على عمليات التحقق المطلوبة في صفحة **تحرير الصف** أو **تحرير إدخال الوقت**. كجزء من هذه المهمة، قم بتأمين الحقل، بناءً على حالة إدخال الوقت.

عند إضافة حقل مخصص إلى شبكة **إدخال الوقت** ثم إنشاء إدخالات الوقت مباشرةً في الشبكة، يتم تعيين الحقل المخصص لهذه الإدخالات تلقائيًا بحيث يتطابق مع الصف. 

### <a name="add-the-custom-field-to-the-quick-create-dialog-box"></a>قم بإضافة الحقل المخصص إلى مربع الحوار "إنشاء سريع"
أضف الحقل المخصص إلى مربع الحوار **إنشاء سريع: إنشاء إدخال الوقت**. بإمكان المستخدمين إدخال قيمة عندما يضيفون إدخالات الوقت بتحديد **جديد**.

### <a name="configure-the-grid-to-show-the-custom-field"></a>تكوين الشبكة لعرض الحقل المخصص
هناك طريقتان لإضافة حقل مخصص إلى شبكة **إدخال الوقت الأسبوعية**.

- يمكنك تخصيص طريقة عرض **إدخالات الوقت الأسبوعية الخاصة بي** وإضافة الحقل المخصص إليها. يمكنك تحديد وضع وحجم الحقل المخصص في الشبكة عن طريق تحرير هذه الخصائص في طريقه العرض.
- أنشئ طريقة عرض جديدة لإدخال الوقت وتعيينها باعتبارها طريقة العرض الافتراضية. ينبغي أن تحتوي طريقه العرض هذه على حقلي **الوصف** و **التعليقات الخارجية**، بالإضافة إلى الاعمده التي ترغب في وجودها في الشبكة. يمكنك تحديد الوضع والحجم وترتيب الفرز الافتراضي للشبكة عن طريق تحرير هذه الخصائص في طريقة العرض. بعد ذلك، قم بتكوين عنصر التحكم المخصص لطريقه العرض هذه بحيث يكون عنصر التحكم في **شبكة إدخال الوقت**. قم باضافه عنصر التحكم هذا إلى **الويب** و **الهاتف** و **الكمبيوتر اللوحي**. بعد ذلك، قم بتكوين المعلمات الخاصة بشبكة **إدخال الوقت الأسبوعي**. قم بتعيين حقل **تاريخ البدء** إلى **msdyn\_date** وقم بتعيين حقل **المدة** إلى **msdyn\_duration** وقم بتعيين حقل **الحالة** إلى **msdyn\_entrystatus**. يتم تعيين حقل **قائمة حالة القراءة فقط** إلى **192350002 (Approved)** أو **192350003 (تم الإرسال)** أو **192350004 (تم طلب الاستعادة)**.

### <a name="add-the-custom-field-to-the-appropriate-edit-page"></a>إضافة الحقل المخصص إلى صفحة التحرير المناسبة
يمكن العثور على الصفحات المستخدمة لتحرير إدخال الوقت أو صف إدخالات الوقت ضمن **النماذج**. يفتح زر **تحرير الإدخال** في الشبكة صفحة **تحرير الإدخال**، ويفتح زر **تحرير الصف** صفحة **تحرير الصف**. يمكنك تحرير هذه الصفحات بحيث تتضمن حقولاً مخصصة.

سيؤدي كلا الخيارين إلى إزالة بعض التصفية الجاهزة في كيانات **المشروع** و **مهمة المشروع**، بحيث تصبح جميع طرق عرض البحث للكيانات مرئية. وبشكل جاهز، تكون طرق عرض البحث ذات الصلة مرئية فقط.

يجب تحديد الصفحة المناسبة للحقل المخصص. وعلى الأرجح، إذا قمت باضافه الحقل إلى الشبكة، فيجب ان يتم وضعه في صفحة **تحرير الصف** المستخدمة للحقول التي تنطبق على الصف الكامل لإدخالات الوقت. إذا كان للحقل المخصص قيمة فريدة في الصف كل يوم (على سبيل المثال، إذا كان حقلًا مخصصًا لوقت الانتهاء)، فيجب أن ينتقل إلى صفحة **تحرير إدخال الوقت**.

لأضافه الحقل المخصص إلى سير مهمة، اسحب عنصر **حقل** إلى الموضع المناسب في الصفحة، ثم قم بتعيين الخصائص الخاصة به.

### <a name="add-new-option-set-values"></a>إضافة قيم مجموعات خيارات جديدة
لإضافة قيم مجموعة الخيارات إلى حقل جاهز، اتبع هذه الخطوات.

1. لإضافة قيم مجموعات خيارات إلى حقل جاهز، افتح صفحة التحرير للحقل ، ثم ضمن **النوع**، حدد **تحرير** بجوار مجموعة الخيارات.
2. أضف خيارًا جديدًا يتضمن تسمية ولونًا مخصصين. إذا كنت تريد أضافه حاله إدخال الوقت الجديدة، تتم تسمية الحقل الجاهز بـ **حالة الإدخال**.

### <a name="designate-a-new-time-entry-status-as-read-only"></a>تعيين حالة إدخال وقت جديد للقراءة فقط
لتعيين حالة إدخال وقت جديد للقراءة فقط، أضف قيمة إدخال الوقت الجديد إلى خاصية **قائمة حالة للقراءة فقط**. تأكد من إضافة الرقم، وليس التسمية. سيتم الآن تأمين الجزء القابل للتحرير من شبكه إدخال الوقت للصفوف التي لها الحالة الجديدة. لتعيين خاصية **قائمة الحالة للقراءة فقط** بشكل مختلف لطرق عرض **إدخال الوقت** المختلفة، أضف شبكة **إدخال الوقت** في قسم **عناصر التحكم المخصصة** لطريقة العرض، وقم بتكوين المعلمات بالشكل المناسب.

بعد ذلك، قم باضافه قواعد الاعمال لتأمين جميع الحقول في صفحتي **تحرير الصف** و **تحرير إدخال الوقت**. للوصول إلى قواعد العمل لهذه الصفحات، افتح محرر النماذج لكل صفحة، ثم حدد **قواعد العمل**. يمكنك أضافه الحالة الجديدة إلى الشرط في قواعد العمل الموجودة، أو يمكنك أضافه قاعده عمل جديده للحالة الجديدة.

### <a name="add-custom-validation-rules"></a>إضافة قواعد التحقق من الصحة المخصصة
يمكنك إضافة نوعين من قواعد التحقق من الصحة لتجربة شبكة **إدخال الوقت الأسبوعي**:

- قواعد العمل من جانب العميل التي تعمل على الصفحات
- عمليات التحقق من صحة المكونات الإضافية على جانب الخادم التي تنطبق على كافة تحديثات إدخال الوقت

#### <a name="client-side-business-rules"></a>قواعد العمل من جانب العميل
استخدم قواعد العمل لتأمين الحقول وإلغاء تأمينها، وأدخل القيم الافتراضية في الحقول، وقم بتعريف عمليات التحقق من الصحة التي تتطلب معلومات من سجل إدخال الوقت الحالي فقط. للوصول إلى قواعد العمل لأي صفحة، افتح محرر النماذج، ثم حدد **قواعد العمل**. يمكنك بعد ذلك تحرير قواعد العمل الموجودة أو إضافة قاعده عمل جديده.

#### <a name="server-side-plug-in-validations"></a>عمليات التحقق من صحة المكونات الإضافية على جانب الخادم
يجب عليك استخدام عمليات التحقق من صحة المكونات الإضافية لأي عمليات تحقق تتطلب سياقًا أكثر مما هو متاح في سجل إدخال لمرة واحدة. يجب عليك أيضًا استخدامها لأي عمليات تحقق تريد تشغيلها على التحديثات المضمنة في الشبكة. لإكمال عمليات التحقق من الصحة، قم بإنشاء مكون إضافي مخصص في كيان **إدخال الوقت**.

### <a name="limits"></a>الحدود
حاليًا، يبلغ حد حجم شبكة **إدخال الوقت** 500 صف. إذا كان هناك أكثر من 500 صف، فلن يتم عرض صفوفه. لا توجد طريقة لزيادة حد الحجم هذا.

### <a name="copying-time-entries"></a>نسخ إدخالات الوقت
استخدم طريقة العرض **نسخ أعمدة إدخالات الوقت** لتحديد قائمة الحقول التي سيتم نسخها أثناء إدخال الوقت. الحقلان **التاريخ** و **الوقت** هما حقلان مطلوبان، ويجب عدم إزالتهما من طريقة العرض.


[!INCLUDE[footer-include](../includes/footer-banner.md)]
