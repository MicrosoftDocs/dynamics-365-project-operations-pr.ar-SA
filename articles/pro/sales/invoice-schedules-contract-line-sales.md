---
title: إنشاء جداول فواتير على شروط التعاقد المستندة إلى المشروع
description: يقدم هذا الموضوع معلومات حول إنشاء جداول الفواتير والمراحل الرئيسية على شروط التعاقد.
author: rumant
manager: Annbe
ms.date: 10/17/2020
ms.topic: article
ms.service: dynamics-365-customerservice
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 2183b915dd2f67e03964246cb0689003e48363f7
ms.sourcegitcommit: 3a0c18823a7ad23df5aa3de272779313abe56c82
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 10/20/2020
ms.locfileid: "4070878"
---
# <a name="creating-invoice-schedules-on-a-project-based-contract-line"></a><span data-ttu-id="8a14a-103">إنشاء جداول فواتير على شروط التعاقد المستندة إلى المشروع</span><span class="sxs-lookup"><span data-stu-id="8a14a-103">Creating invoice schedules on a project-based contract line</span></span>

<span data-ttu-id="8a14a-104">_**ينطبق على:** النشر الخفيف – التعامل مع الفواتير الأولية_</span><span class="sxs-lookup"><span data-stu-id="8a14a-104">_**Applies To:** Lite deployment - deal to proforma invoicing_</span></span>


<span data-ttu-id="8a14a-105">يمكنك إنشاء جدول فواتير على شروط التعاقد المستندة إلى المشروع.</span><span class="sxs-lookup"><span data-stu-id="8a14a-105">You can an invoice schedule to a  project-based contract line.</span></span> <span data-ttu-id="8a14a-106">يتم السماح بالفوترة فقط بعد الفوز بالعقد وإنشاء عقد مشروع.</span><span class="sxs-lookup"><span data-stu-id="8a14a-106">Invoicing is only allowed after the contract is won to and you are creating a project contract.</span></span> <span data-ttu-id="8a14a-107">يسمح جدول الفواتير بإنشاء مسودات الفواتير لشروط التعاقد المستندة إلى المشروع بشكل تلقائي.</span><span class="sxs-lookup"><span data-stu-id="8a14a-107">An invoice schedule allows draft invoices for a project-based contract line to be automatically created.</span></span> <span data-ttu-id="8a14a-108">وإذا قمت بإنشاء الفواتير يدويًا فقط، فيمكنك تخطي إنشاء جداول الفواتير على شروط التعاقد.</span><span class="sxs-lookup"><span data-stu-id="8a14a-108">If however, you only manually create invoices, you can skip creating invoice schedules on contract lines.</span></span>

## <a name="create-a-time-and-material-invoice-schedule-for-a-contract-line"></a><span data-ttu-id="8a14a-109">إنشاء جدول فواتير الوقت والمواد لشروط التعاقد</span><span class="sxs-lookup"><span data-stu-id="8a14a-109">Create a time and material invoice schedule for a contract line</span></span>

<span data-ttu-id="8a14a-110">عند وجود أسلوب فوترة الوقت والمواد لشروط التعاقد المستندة إلى المشروع، يمكنك إنشاء جدول فواتير قائم على التاريخ.</span><span class="sxs-lookup"><span data-stu-id="8a14a-110">When a project-based contract line has a time and material billing method, you can create a date-based invoice schedule.</span></span> <span data-ttu-id="8a14a-111">لإنشاء جدول فواتير قائم على التاريخ بشكل تلقائي، أكمل الخطوات التالية.</span><span class="sxs-lookup"><span data-stu-id="8a14a-111">To automatically generate a date-based invoice schedule, complete the following steps.</span></span>

1. <span data-ttu-id="8a14a-112">انتقل إلى **الإعدادات** > **تكرارات الفاتورة** ، وقم بإعداد تكرار الفاتورة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-112">Go to **Settings** > **Invoice frequencies** and set up an invoice frequence.</span></span>
2. <span data-ttu-id="8a14a-113">انتقل إلى سجل عقد المشروع، ومن علامة تبويب **الملخص** ، في حقل **تاريخ التسليم المطلوب** ، حدد تاريخًا.</span><span class="sxs-lookup"><span data-stu-id="8a14a-113">Go to the project contract record, and on the **Summary** tab, in the **Requested Delivery Date** field, select a date.</span></span>
3. <span data-ttu-id="8a14a-114">افتح شرط تعاقد **الوقت والمواد** الذي تريد إنشاء جدول فواتير قائم على التاريخ له.</span><span class="sxs-lookup"><span data-stu-id="8a14a-114">Open the **Time and Material** contract line that you are making the date-based invoice schedule for.</span></span> 
4. <span data-ttu-id="8a14a-115">من علامة التبويب **جدول الفواتير** ، حدد تاريخ بدء الفوترة وتكرار الفاتورة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-115">On the **Invoice Schedule** tab, select the billing start date and the invoice frequency.</span></span>
5. <span data-ttu-id="8a14a-116">في الشبكة الفرعية، حدد **إنشاء جدول فواتير**.</span><span class="sxs-lookup"><span data-stu-id="8a14a-116">On the subgrid, select **Generate Invoice Schedule**.</span></span> <span data-ttu-id="8a14a-117">يتم إنشاء جدول الفواتير باستخدام الحقول **تاريخ تشغيل الفاتورة** و **تاريخ إيقاف الحركة** و **حالة التشغيل** المعينة بالطريقة التالية:</span><span class="sxs-lookup"><span data-stu-id="8a14a-117">The invoice schedule is generated with the **Invoice Run Date** , **Transaction Cutoff Date** and **Run Status** fields set as follows:</span></span>

    - <span data-ttu-id="8a14a-118">**تاريخ تشغيل الفاتورة** : يتم تعيين هذا التاريخ بناء على تكرار الفاتورة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-118">**Invoice Run Date** : This date is dictated by the invoice frequency.</span></span>
    - <span data-ttu-id="8a14a-119">**تاريخ إيقاف الحركة** : اليوم الذي يسبق تاريخ تشغيل الفاتورة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-119">**Transaction Cutoff Date** : The day before the invoice run date.</span></span>
    - <span data-ttu-id="8a14a-120">**حالة التشغيل** : يتم تعيينها بشكل تلقائي إلى **ليس قيد التشغيل**.</span><span class="sxs-lookup"><span data-stu-id="8a14a-120">**Run Status** : Automatically set to **Not Run**.</span></span> <span data-ttu-id="8a14a-121">عند تشغيل مهمة الإنشاء التلقائي للفاتورة لتاريخ تشغيل فاتورة معينة، يتم تحديث هذا الحقل إلى **تم التشغيل بنجاح** أو **فشل التشغيل**.</span><span class="sxs-lookup"><span data-stu-id="8a14a-121">When the automatic invoice creation job runs for a certain invoice run date, this field is updated to **Run Successful** or **Run Failed**.</span></span>


## <a name="create-a-fixed-price-invoice-schedule-for-a-contract-line"></a><span data-ttu-id="8a14a-122">إنشاء جدول فواتير بسعر ثابت لشرط تعاقد</span><span class="sxs-lookup"><span data-stu-id="8a14a-122">Create a fixed price invoice schedule for a contract line</span></span>

<span data-ttu-id="8a14a-123">عندما يحتوي شرط التعاقد على أسلوب فوترة ثابتة، يمكنك إنشاء جدول فواتير قائم على المراحل الرئيسية.</span><span class="sxs-lookup"><span data-stu-id="8a14a-123">When the contract line has a fixed billing method, you can create a milestone-based invoice schedule.</span></span> <span data-ttu-id="8a14a-124">أكمل الخطوات التالية لإنشاء هذا جدول فواتير قائم على مرحلة رئيسية لمجموعة ثابتة من المراحل الرئيسية التي يتم توزيعها بطريقة متساوية لفترة التقويم.</span><span class="sxs-lookup"><span data-stu-id="8a14a-124">Complete the following steps to generate a milestone-based invoice schedule for a fixed set of equally distributed milestones for the calendar period.</span></span>

1. <span data-ttu-id="8a14a-125">انتقل إلى **الإعدادات** > **تكرارات الفاتورة** ، وقم بإعداد تكرار الفاتورة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-125">Go to **Settings** > **Invoice frequencies** and set up an invoice frequence.</span></span>
2. <span data-ttu-id="8a14a-126">انتقل إلى سجل عقد المشروع، ومن علامة تبويب **الملخص** ، في حقل **تاريخ التسليم المطلوب** ، حدد تاريخًا.</span><span class="sxs-lookup"><span data-stu-id="8a14a-126">Go to the project contract record, and on the **Summary** tab, in the **Requested Delivery Date** field, select a date.</span></span>
3. <span data-ttu-id="8a14a-127">افتح شرط التعاقد **السعر الثابت** الذي تقوم بإنشاء لإنشاء جدول المراحل الرئيسية له.</span><span class="sxs-lookup"><span data-stu-id="8a14a-127">Open the **Fixed Price** contract line that you are creating the milestone schedule for.</span></span> <span data-ttu-id="8a14a-128">من علامة التبويب **المراحل الرئيسية للفوترة** ، حدد تاريخ بدء الفوترة وتكرار الفاتورة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-128">On the **Billing Milestones** tab, select the billing start date and the invoice frequency.</span></span> 
4. <span data-ttu-id="8a14a-129">في الشبكة الفرعية، حدد **إنشاء مراحل رئيسية دورية‬**.</span><span class="sxs-lookup"><span data-stu-id="8a14a-129">On the subgrid, select **Generate Periodic Milestones**.</span></span> <span data-ttu-id="8a14a-130">يتم إنشاء جدول الفواتير مع تعيين الحقول **اسم المرحلة الرئيسية** و **تاريخ المرحلة الرئيسية** و **مبلغ المرحلة الرئيسية** على الشكل التالي:</span><span class="sxs-lookup"><span data-stu-id="8a14a-130">The  invoice schedule is generated with the **Milestone Name** , **Milestone Date** , and **Milestone Amount** fields set as follows:</span></span>

    - <span data-ttu-id="8a14a-131">**اسم المرحلة الرئيسية** : يتم تعيين هذا التاريخ بناء على تكرار الفاتورة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-131">**Milestone Name** : This date is dictated by the invoice frequency.</span></span>
    - <span data-ttu-id="8a14a-132">**تاريخ المرحلة الرئيسية** : يتم تعيين هذا التاريخ بناء على تكرار الفاتورة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-132">**Milestone Date** : This date is dictated by the invoice frequency.</span></span>
    - <span data-ttu-id="8a14a-133">**مبلغ المرحلة الرئيسية** : يتم حساب هذا المبلغ من خلال تقسيم مبلغ العبد على شرط التعاقد على عدد المراحل الرئيسية كما يفرضه التكرار وتاريخ البدء وتواريخ التسليم المطلوبة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-133">**Milestone Amount** : This amount is calculated by dividing the contract amount on the contract line by the number of milestones as dictated by the frequency, billing start, and requested delivery dates.</span></span>

    <span data-ttu-id="8a14a-134">إذا تضمن شرط التعاقد قيمة في حقل **مبلغ الضريبة المقدر** ، سيتم أيضًا تقسيم هذا الحقل على كل مرحلة رئيسية بطريقة متساوية عند إنشاء المراحل الرئيسية الدورية.</span><span class="sxs-lookup"><span data-stu-id="8a14a-134">If the contract line has a value in the **Estimated Tax amount** field, then this field is also apportioned to each milestone equally when generating periodic milestones.</span></span>

<span data-ttu-id="8a14a-135">ينبغي أن تكون المراحل الرئيسية للفوترة متساوية مع القيمة المتعاقد عليها في شرط التعاقد.</span><span class="sxs-lookup"><span data-stu-id="8a14a-135">Billing milestones should equal the contracted value of the contract line.</span></span> <span data-ttu-id="8a14a-136">إذا لم يكن الأمر كذلك، ستتلقى رسالة خطأ في صحفة **شروط التعاقد**.</span><span class="sxs-lookup"><span data-stu-id="8a14a-136">If they don't, you will receive an  error on the **Contract Line** page.</span></span> <span data-ttu-id="8a14a-137">يمكنك إصلاح الخطأ عن طريق التحقق من أن المراحل الرئيسية للفوترة تساوي مجموع القيمة المتعاقد عليها للبند عن طريق إنشاء المراحل الرئيسية أو تحريرها أو حذفها.</span><span class="sxs-lookup"><span data-stu-id="8a14a-137">You can fix the error by verifying that the billing milestones total the contracted value of the line by creating, editing, or deleting milestones.</span></span> <span data-ttu-id="8a14a-138">بعد اجراء التغييرات، قم بتحديث الصفحة لإزالة الخطأ.</span><span class="sxs-lookup"><span data-stu-id="8a14a-138">After the changes are made, refresh the page to remove the error.</span></span>

### <a name="manually-create-milestones"></a><span data-ttu-id="8a14a-139">إنشاء المراحل الرئيسية يدويًا</span><span class="sxs-lookup"><span data-stu-id="8a14a-139">Manually create milestones</span></span>

<span data-ttu-id="8a14a-140">يمكن إنشاء المراحل الرئيسية الثابتة السعر يدويًا عندما لا تكون مقسمة بشكل دوري.</span><span class="sxs-lookup"><span data-stu-id="8a14a-140">You can generate fixed price milestones manually when they are not periodically split.</span></span> <span data-ttu-id="8a14a-141">أكمل الخطوات التالية لإنشاء مرحلة رئيسية يدويًا.</span><span class="sxs-lookup"><span data-stu-id="8a14a-141">Complete the following steps to manually create a milestone.</span></span>

1. <span data-ttu-id="8a14a-142">افتح شرط التعاقد الثابت السعر الذي تعمل على إنشاء مرحلة رئيسية له، وعلى علامة تبويب **جدول الفواتير** ، على الشبكة الفرعية، حدد **+ إنشاء مرحلة رئيسية لشرط تعاقد جديد**.</span><span class="sxs-lookup"><span data-stu-id="8a14a-142">Open the fixed price contract line that you are creating a milestone for, and on the **Invoice Schedule** tab, on the subgrid, select **+ Create new Contract line milestone**.</span></span> 
2. <span data-ttu-id="8a14a-143">في الصفحة **إنشاء مرحلة رئيسية** ، أدخل المعلومات المطلوبة استنادًا إلى الجدول التالي.</span><span class="sxs-lookup"><span data-stu-id="8a14a-143">On the **Milestone Creation** page, enter the required information based on the following table.</span></span>

| <span data-ttu-id="8a14a-144">الحقل</span><span class="sxs-lookup"><span data-stu-id="8a14a-144">Field</span></span> | <span data-ttu-id="8a14a-145">الموقع</span><span class="sxs-lookup"><span data-stu-id="8a14a-145">Location</span></span> | <span data-ttu-id="8a14a-146">الصلة والغرض والإرشاد</span><span class="sxs-lookup"><span data-stu-id="8a14a-146">Relevance, purpose, and guidance</span></span> | <span data-ttu-id="8a14a-147">تأثير لاحق</span><span class="sxs-lookup"><span data-stu-id="8a14a-147">Downstream impact</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="8a14a-148">اسم الحدث الرئيسي</span><span class="sxs-lookup"><span data-stu-id="8a14a-148">Milestone Name</span></span> | <span data-ttu-id="8a14a-149">إنشاء سريع</span><span class="sxs-lookup"><span data-stu-id="8a14a-149">Quick Create</span></span> | <span data-ttu-id="8a14a-150">الحقل النصي لاسم المرحلة الرئيسية.</span><span class="sxs-lookup"><span data-stu-id="8a14a-150">Text field for the name of the milestone.</span></span> | <span data-ttu-id="8a14a-151">يتم نقل هذا إلى المرحلة الرئيسية لشروط تعاقد المشروع والفاتورة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-151">This is carried over to the project contract line milestone and the invoice.</span></span> |
| <span data-ttu-id="8a14a-152">مهمة المشروع</span><span class="sxs-lookup"><span data-stu-id="8a14a-152">Project Task</span></span> | <span data-ttu-id="8a14a-153">إنشاء سريع</span><span class="sxs-lookup"><span data-stu-id="8a14a-153">Quick Create</span></span> | <span data-ttu-id="8a14a-154">إذا كانت المرحلة الرئيسية مرتبطة بمهمة مشروع، فاستخدم هذا المرجع لإضافة منطق مخصص وتعيين حالة المرحلة الرئيسية استنادًا إلى حالة المهمة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-154">If the milestone is tied to project task, use this reference to add custom logic to set the milestone status based on the task status.</span></span> | <span data-ttu-id="8a14a-155">ليس للتطبيق أي تأثير لاحق لهذا المرجع على مهمة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-155">The application, doesn't have any downstream impact of this reference to a task.</span></span> |
| <span data-ttu-id="8a14a-156">تاريخ الحدث الرئيسي</span><span class="sxs-lookup"><span data-stu-id="8a14a-156">Milestone Date</span></span> | <span data-ttu-id="8a14a-157">إنشاء سريع</span><span class="sxs-lookup"><span data-stu-id="8a14a-157">Quick Create</span></span> | <span data-ttu-id="8a14a-158">قم بتعيين التاريخ حيث يجب أن تبحث عملية الإنشاء التلقائي للفواتير على حالة هذه المرحلة الرئيسية لمراعاتها عند الفوترة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-158">Set the date on which the automatic invoice creation process should look for the status of this milestone to consider it for invoicing.</span></span> | <span data-ttu-id="8a14a-159">يتم نقل هذا إلى المرحلة الرئيسية لشروط تعاقد المشروع والفاتورة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-159">This is carried over to the project contract line milestone and the invoice.</span></span> |
| <span data-ttu-id="8a14a-160">حالة الفاتورة</span><span class="sxs-lookup"><span data-stu-id="8a14a-160">Invoice Status</span></span> | <span data-ttu-id="8a14a-161">إنشاء سريع</span><span class="sxs-lookup"><span data-stu-id="8a14a-161">Quick Create</span></span> | <span data-ttu-id="8a14a-162">وعند إنشاء مرحلة رئيسية، يتم دائمًا تعيين هذه الحالة إلى **غير جاهز للفوترة** أو **لم تبدأ**.</span><span class="sxs-lookup"><span data-stu-id="8a14a-162">When a milestone is created, this status is always set to **Not Ready for Invoicing** or **Not Started**.</span></span> | <span data-ttu-id="8a14a-163">يتم نقل هذا إلى المرحلة الرئيسية لشروط تعاقد المشروع والفاتورة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-163">This is carried over to the project contract line milestone and the invoice.</span></span> |
| <span data-ttu-id="8a14a-164">مبلغ البند</span><span class="sxs-lookup"><span data-stu-id="8a14a-164">Line Amount</span></span> | <span data-ttu-id="8a14a-165">إنشاء سريع</span><span class="sxs-lookup"><span data-stu-id="8a14a-165">Quick Create</span></span> | <span data-ttu-id="8a14a-166">مبلغ أو قيمة المرحلة الرئيسية التي ستتم فوترتها للعميل.</span><span class="sxs-lookup"><span data-stu-id="8a14a-166">Amount or value of the milestone that will be invoiced to the customer.</span></span> | <span data-ttu-id="8a14a-167">يتم نقل هذا إلى المرحلة الرئيسية لشروط تعاقد المشروع والفاتورة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-167">This is carried over to the project contract line milestone and the invoice.</span></span> |
| <span data-ttu-id="8a14a-168">ضريبة</span><span class="sxs-lookup"><span data-stu-id="8a14a-168">Tax</span></span> | <span data-ttu-id="8a14a-169">إنشاء سريع</span><span class="sxs-lookup"><span data-stu-id="8a14a-169">Quick Create</span></span> | <span data-ttu-id="8a14a-170">مبلغ الضريبة المطبق على المرحلة الرئيسية.</span><span class="sxs-lookup"><span data-stu-id="8a14a-170">The tax amount applied on the milestone.</span></span> | <span data-ttu-id="8a14a-171">يتم نقل هذا إلى المرحلة الرئيسية لشروط تعاقد المشروع والفاتورة.</span><span class="sxs-lookup"><span data-stu-id="8a14a-171">This is carried over to the project contract line milestone and the invoice.</span></span> |

3. <span data-ttu-id="8a14a-172">حدد **حفظ وإغلاق**.</span><span class="sxs-lookup"><span data-stu-id="8a14a-172">Select **Save and Close**.</span></span>
<span data-ttu-id="8a14a-173">| مبلغ البند | إنشاء سريع | المبلغ أو القيمة الخاصة بالمرحلة الرئيسية التي ستتم فوترتها للعميل | يتم نشره إلى المرحلة الرئيسية لشروط تعاقد المشروع وإلى الفاتورة | | الضريبة | إنشاء سريع | مبلغ الضريبة الذي سيتم تطبيقه على المرحلة الرئيسية | يتم نشره إلى المرحلة الرئيسية لشروط تعاقد المشروع وإلى الفاتورة |</span><span class="sxs-lookup"><span data-stu-id="8a14a-173">| Line Amount | Quick create | Amount or Value of the Milestone that will be invoiced to the customer | This is propagated to the Project contract line Milestone and to the Invoice | | Tax | Quick create | Tax amount that will be applied on the Milestone | This is propagated to the Project contract line Milestone and to the Invoice |</span></span>
