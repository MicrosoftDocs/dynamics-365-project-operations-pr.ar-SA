---
title: تقديرات المشروع وتكامل القيم الفعلية
description: يوفر هذا الموضوع معلومات حول تكامل الكتابة المزدوجة في Project Operations لتقديرات المشروع والقيم الفعلية.
author: sigitac
manager: Annbe
ms.date: 4/26/2021
ms.topic: article
ms.prod: ''
ms.service: project-operations
ms.reviewer: kfend
ms.author: sigitac
ms.openlocfilehash: 88df3385fac0a78a827d65a77d3b04c9d6499536
ms.sourcegitcommit: 02f00960198cc78a5e96955a9e4390c2c6393bbf
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 04/28/2021
ms.locfileid: "5955692"
---
# <a name="project-estimates-and-actuals-integration"></a><span data-ttu-id="1b29a-103">تقديرات المشروع وتكامل القيم الفعلية</span><span class="sxs-lookup"><span data-stu-id="1b29a-103">Project estimates and actuals integration</span></span>

<span data-ttu-id="1b29a-104">_**ينطبق على:** Project Operations للسيناريوهات المستندة إلى موارد/منتجات غير مخزنة‬_</span><span class="sxs-lookup"><span data-stu-id="1b29a-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios_</span></span>

<span data-ttu-id="1b29a-105">يوفر هذا الموضوع معلومات حول تكامل الكتابة المزدوجة في Project Operations لتقديرات المشروع والقيم الفعلية.</span><span class="sxs-lookup"><span data-stu-id="1b29a-105">This topic provides information about Project Operations dual-write integration for project estimates and actuals.</span></span>

## <a name="project-estimates"></a><span data-ttu-id="1b29a-106">تقديرات المشروع</span><span class="sxs-lookup"><span data-stu-id="1b29a-106">Project estimates</span></span>

<span data-ttu-id="1b29a-107">يتم إنشاء تقديرات العمل والمصروفات والمواد للمشروع والاحتفاظ بها في Microsoft Dataverse ومزامنتها مع تطبيقات Finance and Operations لأغراض المحاسبة.</span><span class="sxs-lookup"><span data-stu-id="1b29a-107">Project labor, expense, and material estimates are created and maintained in Microsoft Dataverse and synchronized to Finance and Operations apps for accounting purposes.</span></span> <span data-ttu-id="1b29a-108">لا يتم دعم عمليات الإنشاء والتحديث والحذف من خلال تطبيقات Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="1b29a-108">Create, update, and delete operations aren't supported through the Finance and Operations apps.</span></span>

<span data-ttu-id="1b29a-109">يتطلب إنشاء التقديرات تكوينًا محاسبيًا صالحًا للمشروع.</span><span class="sxs-lookup"><span data-stu-id="1b29a-109">Creating estimates requires a valid accounting configuration for the project.</span></span> <span data-ttu-id="1b29a-110">يجب أن تتضمن المشاريع المقترنة بشروط التعاقد ملف تعريف صالح لتكلفة المشروع والإيرادات والذي يتم تعريفه في قواعد ملف تعريف التكلفة والإيرادات للمشروع.</span><span class="sxs-lookup"><span data-stu-id="1b29a-110">Projects that are associated with contract lines must have a valid project cost and revenue profile defined in the Project cost and revenue profile rules.</span></span> <span data-ttu-id="1b29a-111">لمزيد من المعلومات، راجع [تكوين المحاسبة للمشاريع القابلة للفوترة](../project-accounting/configure-accounting-billable-projects.md#configure-project-cost-and-revenue-profile-rules).</span><span class="sxs-lookup"><span data-stu-id="1b29a-111">For more information, see [Configure accounting for billable projects](../project-accounting/configure-accounting-billable-projects.md#configure-project-cost-and-revenue-profile-rules).</span></span>

## <a name="labor-estimates"></a><span data-ttu-id="1b29a-112">تقديرات العمالة</span><span class="sxs-lookup"><span data-stu-id="1b29a-112">Labor estimates</span></span>

<span data-ttu-id="1b29a-113">يتم إنشاء تقديرات العمالة من قبل مدير المشروع أو مدير الموارد الذي يقوم أيضا بتعيين مورد عام أو مسمى لمهمة المشروع.</span><span class="sxs-lookup"><span data-stu-id="1b29a-113">Labor estimates are created by the Project Manager or Resource manager who also assigns a generic or named resource to the project task.</span></span> <span data-ttu-id="1b29a-114">يمكن مراجعة سجلات تعيين الموارد في علامة التبويب **تعيينات الموارد** في صفحة **تفاصيل المشروع** في Dataverse.</span><span class="sxs-lookup"><span data-stu-id="1b29a-114">Resource assignment records can be reviewed on the **Resource Assignments** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="1b29a-115">تقوم سجلات تعيين الموارد في Dataverse بإنشاء سجلات التنبؤ بالساعة في تطبيقات Finance and Operations باستخدام كيان **تكامل Project Operations لتقديرات الساعة (msdyn\_resourceassignments)**</span><span class="sxs-lookup"><span data-stu-id="1b29a-115">Resource assignment records in Dataverse create hour forecast records in Finance and Operations apps using **Project Operations integration entity for hour estimates (msdyn\_resourceassignments)**.</span></span>

   ![تكامل تقديرات العمالة](./Media/DW4LaborEstimates.png)

<span data-ttu-id="1b29a-117">يقوم الكتابة المزدوجة بمزامنة سجلات تعيين الموارد إلى الجدول المرحلي (**ProjCDSEstimateHoursImport**)، ثم يستخدم منطق الأعمال لإنشاء وتحديث سجلات التنبؤ بالساعة (**ProjForecastEmpl**).</span><span class="sxs-lookup"><span data-stu-id="1b29a-117">Dual-write synchronizes resource assignment records to the staging table (**ProjCDSEstimateHoursImport**), and then uses business logic to create and update hour forecast records (**ProjForecastEmpl**).</span></span>

<span data-ttu-id="1b29a-118">يستعرض محاسب المشروع سجلات ساعة التنبؤ التي تم إنشاؤها في تطبيقات Finance and Operations من خلال الانتقال إلى **إدارة المشاريع والمحاسبة** > **جميع المشاريع** > **الخطة** > **تنبؤات الساعات**.</span><span class="sxs-lookup"><span data-stu-id="1b29a-118">The Project accountant reviews forecast hour records created in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Hour forecasts**.</span></span>

## <a name="expense-estimates"></a><span data-ttu-id="1b29a-119">تقديرات المصروفات</span><span class="sxs-lookup"><span data-stu-id="1b29a-119">Expense estimates</span></span>

<span data-ttu-id="1b29a-120">يتم إنشاء تقديرات المصروفات من قبل مدير المشروع في علامة التبويب **تقديرات المصروفات** في صفحة **تفاصيل المشروع** في Dataverse.</span><span class="sxs-lookup"><span data-stu-id="1b29a-120">Expense estimates are created by the Project manager on the **Expense Estimates** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="1b29a-121">يتم تخزين سجلات تقدير المصروفات في كيان **بند التقدير** في Dataverse.</span><span class="sxs-lookup"><span data-stu-id="1b29a-121">Expense estimate records are stored in the **Estimate Line** entity in Dataverse.</span></span> <span data-ttu-id="1b29a-122">تحتوي سجلات التقدير هذه على فئة الحركة **المصروفات** ويتم مزامنتها مع سجلات التنبؤ بالمصروفات في تطبيقات Finance and Operations باستخدام كيان **تكامل Project Operations لتقديرات المصروفات (msdyn\_estimatelines).**</span><span class="sxs-lookup"><span data-stu-id="1b29a-122">These estimate records have transaction class, **Expense** and are synchronized to expense forecast records in Finance and Operations apps using **Project Operations integration entity for expense estimates (msdyn\_estimatelines)**.</span></span>

   ![تكامل تقديرات المصروفات](./Media/DW4ExpenseEstimates.png)

<span data-ttu-id="1b29a-124">يقوم الكتابة المزدوجة بمزامنة سجلات تقدير المصروفات إلى الجدول المرحلي **ProjCDSEstimateExpenseImport**، ثم يستخدم منطق الأعمال لإنشاء وتحديث سجلات التقدير (**ProjForecastCost**).</span><span class="sxs-lookup"><span data-stu-id="1b29a-124">Dual-write synchronizes expense estimate records to the staging table, **ProjCDSEstimateExpenseImport)** and then uses business logic to create and update expense forecast records (**ProjForecastCost**).</span></span> <span data-ttu-id="1b29a-125">تقوم بنود التقدير بتخزين سجلات تقدير المبيعات وتقدير التكلفة بشكل منفصل.</span><span class="sxs-lookup"><span data-stu-id="1b29a-125">Estimate lines store sales estimate and cost estimate records separately.</span></span> <span data-ttu-id="1b29a-126">يقوم منطق العمل في تطبيقات Finance and Operations بملء سجل تنبؤ مصروفات واحد باستخدام هذه التفاصيل في الجدول المرحلي.</span><span class="sxs-lookup"><span data-stu-id="1b29a-126">The business logic in Finance and Operations apps populates a single Expense forecast record using this detail in the staging table.</span></span>

<span data-ttu-id="1b29a-127">يمكن لمحاسب المشروع مراجعة سجلات تقدير المصروفات في تطبيقات Finance and Operations من خلال الانتقال إلى **إدارة المشاريع والمحاسبة** > **جميع المشاريع** > **الخطة** > **تقديرات المصروفات**.</span><span class="sxs-lookup"><span data-stu-id="1b29a-127">The Project accountant can review expense forecast records in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Expense forecasts**.</span></span>

## <a name="material-estimates"></a><span data-ttu-id="1b29a-128">تقديرات المواد</span><span class="sxs-lookup"><span data-stu-id="1b29a-128">Material estimates</span></span>

<span data-ttu-id="1b29a-129">يتم إنشاء تقديرات المواد من قبل مدير المشروع في علامة التبويب **تقديرات المواد** في صفحة **تفاصيل المشروع** في Dataverse.</span><span class="sxs-lookup"><span data-stu-id="1b29a-129">Material estimates are created by the Project manager on the **Material Estimates** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="1b29a-130">يتم تخزين سجلات تقدير المواد في كيان **بند التقدير** في Dataverse.</span><span class="sxs-lookup"><span data-stu-id="1b29a-130">Material estimate records are stored in the **Estimate Line** entity in Dataverse.</span></span> <span data-ttu-id="1b29a-131">تحتوي سجلات التقدير هذه على فئة الحركة **المواد** ويتم مزامنتها مع سجلات تقدير البند في تطبيقات Finance and Operations باستخدام **جدول تكامل المشروع لتقديرات المواد (msdyn\_estimatelines).**</span><span class="sxs-lookup"><span data-stu-id="1b29a-131">These estimate records have the transaction class, **Material** and are synchronized to item forecast records in Finance and Operations apps using **Project integration table for material estimates (msdyn\_estimatelines)**.</span></span>

   ![تكامل تقديرات المواد](./Media/DW4MaterialEstimates.png)

<span data-ttu-id="1b29a-133">يقوم الكتابة المزدوجة بمزامنة سجلات تقدير المواد إلى الجدول المرحلي **ProjForecastSalesImpor**، ثم يستخدم منطق الأعمال لإنشاء وتحديث سجلات تقدير البند (**ForecastSales**).</span><span class="sxs-lookup"><span data-stu-id="1b29a-133">Dual-write synchronizes material estimate records to the staging table **ProjForecastSalesImpor**, and then uses business logic to create and update item forecast records (**ForecastSales**).</span></span> <span data-ttu-id="1b29a-134">تقوم بنود التقدير بتخزين سجلات تقدير المبيعات وتقدير التكلفة بشكل منفصل.</span><span class="sxs-lookup"><span data-stu-id="1b29a-134">Estimate lines store sales estimate and cost estimate records separately.</span></span> <span data-ttu-id="1b29a-135">يقوم منطق العمل في تطبيقات Finance and Operations بملء سجل تقدير بند واحد باستخدام هذه التفاصيل في الجدول المرحلي.</span><span class="sxs-lookup"><span data-stu-id="1b29a-135">The business logic in Finance and Operations apps populates a single Item forecast record using this detail in the staging table.</span></span>

<span data-ttu-id="1b29a-136">يمكن لمحاسب المشروع مراجعة سجلات تقدير البند في تطبيقات Finance and Operations من خلال الانتقال إلى **إدارة المشاريع والمحاسبة** > **جميع المشاريع** > **الخطة** > **تقديرات البنود**.</span><span class="sxs-lookup"><span data-stu-id="1b29a-136">The Project accountant can review item forecast records in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Item forecasts**.</span></span>

## <a name="project-actuals"></a><span data-ttu-id="1b29a-137">القيم الفعلية للمشروع</span><span class="sxs-lookup"><span data-stu-id="1b29a-137">Project actuals</span></span>

<span data-ttu-id="1b29a-138">يتم إنشاء القيم الفعلية للمشروع في Dataverse، استنادا إلى الوقت والمصروفات والمواد ونشاط الفوترة.</span><span class="sxs-lookup"><span data-stu-id="1b29a-138">Project actuals are created in Dataverse, based on time, expense, material, and billing activity.</span></span> <span data-ttu-id="1b29a-139">يتم التقاط كافة السمات التشغيلية لهذه الحركات بما في ذلك الكمية وسعر التكلفة وسعر المبيعات والمشروع في كيان Dataverse هذا.</span><span class="sxs-lookup"><span data-stu-id="1b29a-139">All operational attributes of these transactions including quantity, cost price, sales price, and project are captured in this Dataverse entity.</span></span> <span data-ttu-id="1b29a-140">لمزيد من المعلومات، راجع [القيم الفعلية](../actuals/actuals-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1b29a-140">For more information, see [Actuals](../actuals/actuals-overview.md).</span></span> <span data-ttu-id="1b29a-141">تتم مزامنة سجلات القيم الفعلية مع تطبيقات Finance and Operations باستخدام مخطط جدول الكتابة المزدوجة **القيم الفعلية لتكامل Project Operations (msdyn\_actuals)** للمحاسبة اللاحقة.</span><span class="sxs-lookup"><span data-stu-id="1b29a-141">Actual records are synchronized to Finance and Operations apps using the dual-write table map **Project Operations integration actuals (msdyn\_actuals)** for downstream accounting.</span></span>

   ![تكامل القيم الفعلية](./Media/DW4Actuals.png)

<span data-ttu-id="1b29a-143">يقوم مخطط جدول **القيم الفعلية لتكامل Project Operations** بمزامنة جميع السجلات من كيان **القيم الفعلية** في Dataverse، مع السمة **Skip Sync (للاستخدام الداخلي فقط)** التي يتم تعيينها إلى **خطأ**.</span><span class="sxs-lookup"><span data-stu-id="1b29a-143">The **Project Operations integration actuals** table map synchronizes all the records from the **Actuals** entity in Dataverse, with the attribute **Skip Sync (internal use only)** set to **False**.</span></span> <span data-ttu-id="1b29a-144">يتم تعيين قيمة هذه السمة في Dataverse تلقائيا عند إنشاء السجل.</span><span class="sxs-lookup"><span data-stu-id="1b29a-144">This attribute value is set in Dataverse automatically when the record is created.</span></span> <span data-ttu-id="1b29a-145">فيما الأمثلة حيث يتم تعيين هذه السمة إلى **صواب**:</span><span class="sxs-lookup"><span data-stu-id="1b29a-145">Examples where this attribute is set to **True** are:</span></span>

  - <span data-ttu-id="1b29a-146">القيم الفعلية لتكلفة المشروع للحركات بين الشركات الشقيقة.</span><span class="sxs-lookup"><span data-stu-id="1b29a-146">Project cost actuals for intercompany transactions.</span></span> <span data-ttu-id="1b29a-147">لمزيد من المعلومات، راجع [إنشاء حركات بين الشركات الشقيقة](../project-accounting/create-intercompany-transactions.md).</span><span class="sxs-lookup"><span data-stu-id="1b29a-147">For more information, see [Create intercompany transactions](../project-accounting/create-intercompany-transactions.md).</span></span> <span data-ttu-id="1b29a-148">يتم تخطي هذه السجلات لأن النظام يعيد إنشاء تكلفة المشروع الفعلية في تطبيقات Finance and Operations عند ترحيل فاتورة المورد بين الشركات الشقيقة.</span><span class="sxs-lookup"><span data-stu-id="1b29a-148">These records are skipped because the system recreates the project cost actual in Finance and Operations apps when the intercompany vendor invoice is posted.</span></span>
  - <span data-ttu-id="1b29a-149">يتم إنشاء سجلات مبيعات سالبة غير مفوترة عند تأكيد الفاتورة الأولية.</span><span class="sxs-lookup"><span data-stu-id="1b29a-149">Negative unbilled sales records created when the proforma invoice is confirmed.</span></span> <span data-ttu-id="1b29a-150">يتم تخطي هذه السجلات لأن دفتر الأستاذ الفرعي للمشروع في تطبيقات Finance and Operations لا يعكس سجل المبيعات غير المفوترة عند الفوترة ولكنه يغير الحالة إلى مفوترة بالكامل.</span><span class="sxs-lookup"><span data-stu-id="1b29a-150">These records are skipped because the project subledger in Finance and Operations apps doesn't reverse the unbilled sales record at invoicing but changes the status to fully invoiced.</span></span>

<span data-ttu-id="1b29a-151">يقوم مخطط جدول الكتابة المزدوجة بمزامنة السجلات الفعلية إلى الجدول المرحلي، **ProjCDSActualsImport**.</span><span class="sxs-lookup"><span data-stu-id="1b29a-151">The dual-write table map synchronizes the actuals records to the staging table, **ProjCDSActualsImport**.</span></span> <span data-ttu-id="1b29a-152">تتم معالجة هذه السجلات بواسطة عملية دورية **استيراد من الجدول المرحلي** عند إنشاء بنود دفتر يومية تكامل Project Operations وبنود مقترح فاتورة المشروع.</span><span class="sxs-lookup"><span data-stu-id="1b29a-152">These records are processed by the periodic process **Import from staging table** when creating Project Operations integration journal lines and project invoice proposal lines.</span></span> <span data-ttu-id="1b29a-153">لمزيد من المعلومات، راجع [دفتر يومية التكامل في Project Operations](../project-accounting/project-operations-integration-journal.md).</span><span class="sxs-lookup"><span data-stu-id="1b29a-153">For more information, see [Integration journal in Project Operations](../project-accounting/project-operations-integration-journal.md).</span></span>

<span data-ttu-id="1b29a-154">يمكن لـ Dataverse أيضًا التقاط الارتباطات بين الحركات الفعلية للمشروع في كيان **اتصال الحركة**.</span><span class="sxs-lookup"><span data-stu-id="1b29a-154">Dataverse also captures the links between the project actual transactions in the **Transaction connection** entity.</span></span> <span data-ttu-id="1b29a-155">لمزيد من المعلومات، راجع [ربط القيم الفعلية بالسجلات الأصلية](../actuals/linkingactuals.md).</span><span class="sxs-lookup"><span data-stu-id="1b29a-155">For more information, see [Link actuals to original records](../actuals/linkingactuals.md).</span></span> <span data-ttu-id="1b29a-156">تتم مزامنة الارتباطات بين المعاملات الفعلية أيضا مع تطبيقات Finance and Operations باستخدام مخطط جدول الكتابة المزدوجة، **كيان التكامل لعلاقات حركة المشروع (msdyn\_transactionconnections)**.</span><span class="sxs-lookup"><span data-stu-id="1b29a-156">Links between actual transactions are also synchronized to Finance and Operations apps using the dual-write table map, **Integration entity for project transaction relationships (msdyn\_transactionconnections)**.</span></span> <span data-ttu-id="1b29a-157">يتم استخدام هذه السجلات بواسطة عملية دورية **استيراد من الجدول المرحلي** عند إنشاء بنود دفتر يومية تكامل Project Operations وبنود مقترح فاتورة المشروع.</span><span class="sxs-lookup"><span data-stu-id="1b29a-157">These records are used by the periodic process, **Import from staging table** when creating Project Operations integration journal lines and Project invoice proposal lines.</span></span>

<span data-ttu-id="1b29a-158">يؤدي ترحيل دفتر يومية تكامل Project Operations واقتراح فاتورة مشروع بتشغيل تحديث في السجلات المعنية في الجدول المرحلي **ProjCDSActualsImport**.</span><span class="sxs-lookup"><span data-stu-id="1b29a-158">Posting a Project Operations integration journal and a project invoice proposal triggers an update in respective records in the staging table, **ProjCDSActualsImport**.</span></span> <span data-ttu-id="1b29a-159">يلتقط النظام ويسجل السمات المحاسبية التالية للمعاملات الفعلية:</span><span class="sxs-lookup"><span data-stu-id="1b29a-159">The system captures and records the following accounting attributes for actuals transactions:</span></span>

- <span data-ttu-id="1b29a-160">مبلغ عملة المحاسبة</span><span class="sxs-lookup"><span data-stu-id="1b29a-160">Accounting currency amount</span></span>
- <span data-ttu-id="1b29a-161">سعر الصرف</span><span class="sxs-lookup"><span data-stu-id="1b29a-161">Exchange rate</span></span>
- <span data-ttu-id="1b29a-162">رقم الإيصال</span><span class="sxs-lookup"><span data-stu-id="1b29a-162">Voucher number</span></span>
- <span data-ttu-id="1b29a-163">مبلغ ضريبة المبيعات</span><span class="sxs-lookup"><span data-stu-id="1b29a-163">Sales tax amount</span></span>

<span data-ttu-id="1b29a-164">يقوم مخطط جدول **القيم الفعلية لتكامل Project Operations** بتحديث السجلات الفعلية المعنية في Dataverse بهذه المعلومات.</span><span class="sxs-lookup"><span data-stu-id="1b29a-164">The **Project Operations integration actuals** table map updates respective actuals records in Dataverse with this information.</span></span>
