---
title: التقديرات
description: يقدم هذا الموضوع معلومات حول التقديرات في Dynamics 365 Project Service Automation.
author: rumant
manager: kfend
ms.service: project-operations
ms.custom:
- dyn365-projectservice
ms.date: 1/31/2019
ms.topic: article
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365CE
- D365PS
- ProjectOperations
ms.openlocfilehash: 95f739f0c724ff93c4d588776f9e49687bac2035
ms.sourcegitcommit: 4cf1dc1561b92fca4175f0b3813133c5e63ce8e6
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 10/28/2020
ms.locfileid: "4132681"
---
# <a name="estimates"></a><span data-ttu-id="3c324-103">التقديرات</span><span class="sxs-lookup"><span data-stu-id="3c324-103">Estimates</span></span>

[!INCLUDE[cc-applies-to-psa-app-3.x](../includes/cc-applies-to-psa-app-3x.md)]

<span data-ttu-id="3c324-104">في عرض أسعار يستند إلى المشروع، يمكنك استخدام الكيان التفصيلي لبند عرض الأسعار لتقدير العمل المطلوب لتسليم مشروع.</span><span class="sxs-lookup"><span data-stu-id="3c324-104">On a project-based quote, you can use the Quote line detail entity to estimate the work that is required to deliver a project.</span></span> <span data-ttu-id="3c324-105">يمكنك بعد ذلك مشاركة هذا التقدير مع العميل.</span><span class="sxs-lookup"><span data-stu-id="3c324-105">You can then share that estimate with the customer.</span></span>

<span data-ttu-id="3c324-106">لا يلزم أن تشتمل بنود عرض الأسعار المستندة إلى المشروع على إيه تفاصيل لبنود عرض أسعار.</span><span class="sxs-lookup"><span data-stu-id="3c324-106">Project-based quote lines don't have to have any quote line details.</span></span> <span data-ttu-id="3c324-107">وبدلا من ذلك، يمكن أن تشتمل على العديد من تفاصيل بنود عرض الأسعار.</span><span class="sxs-lookup"><span data-stu-id="3c324-107">Alternatively, they can have many quote line details.</span></span> <span data-ttu-id="3c324-108">وتستخدم تفاصيل بنود عرض الأسعار لتقدير الوقت أو المصروفات أو الرسوم.</span><span class="sxs-lookup"><span data-stu-id="3c324-108">Quote line details are used to estimate time, expenses, or fees.</span></span> <span data-ttu-id="3c324-109">لا يسمح PSA بالتقديرات المادية في تفاصيل بنود عرض الأسعار.</span><span class="sxs-lookup"><span data-stu-id="3c324-109">PSA doesn't allow for material estimates on quote line details.</span></span> <span data-ttu-id="3c324-110">وهذه تسمى فئات الحركات.</span><span class="sxs-lookup"><span data-stu-id="3c324-110">These are called transaction classes.</span></span> <span data-ttu-id="3c324-111">يمكن أيضًا إدخال مبالغ الضريبة المقدرة في إحدى فئات الحركات.</span><span class="sxs-lookup"><span data-stu-id="3c324-111">Estimated tax amounts can also be entered on a transaction class.</span></span>

<span data-ttu-id="3c324-112">بالإضافة إلى فئات الحركات، تحتوي تفاصيل بنود عرض الأسعار على نوع الحركة.</span><span class="sxs-lookup"><span data-stu-id="3c324-112">In addition to transaction classes, quote line details have a transaction type.</span></span> <span data-ttu-id="3c324-113">يدعم PSA نوعين من أنواع الحركة لتفاصيل بنود عرض الأسعار: **التكلفة** و **عقد المشروع**.</span><span class="sxs-lookup"><span data-stu-id="3c324-113">PSA support two transaction types for quote line details: **Cost** and **Project Contract**.</span></span>

## <a name="estimate-by-using-a-contract"></a><span data-ttu-id="3c324-114">التقدير باستخدام أحد العقود</span><span class="sxs-lookup"><span data-stu-id="3c324-114">Estimate by using a contract</span></span>

<span data-ttu-id="3c324-115">إذا كنت قد استخدمت عرض أسعار PSA عند إنشاء عقد يستند إلى مشروع، سيتم نسخ التقدير الذي قمت به لكل بند في عرض الأسعار إلى عقد المشروع.</span><span class="sxs-lookup"><span data-stu-id="3c324-115">If you used a PSA quote when you created a project-based contract, the estimate that you did for each quote line on the quote is copied to the project contract.</span></span> <span data-ttu-id="3c324-116">تكون بنية عقد المشروع مثل بنية عرض أسعار المشروع حيث تتضمن بنود وتفاصيل بنود وجداول فواتير.</span><span class="sxs-lookup"><span data-stu-id="3c324-116">The structure of a project contract is like the structure of project quote that has lines, line details, and invoice schedules.</span></span>

<span data-ttu-id="3c324-117">ويمكن إجراء التقديرات مباشرة في عقد مشروع، كما في عرض أسعار المشروع.</span><span class="sxs-lookup"><span data-stu-id="3c324-117">Estimates can be done directly in a project contract, as in a project quote.</span></span> <span data-ttu-id="3c324-118">بالنسبة لعرض أسعار المشروع، يتم إجراء التقدير عن طريق استخدام بنود العقد وتفاصيل شروط التعاقد.</span><span class="sxs-lookup"><span data-stu-id="3c324-118">For a project quotation, the estimate is done by using contract lines and contract line details.</span></span> <span data-ttu-id="3c324-119">كما يمكن أيضا إنشاء تفاصيل شروط التعاقد من خطة مشروع تم إنشاؤه باستخدام أسلوب التقدير من أسفل لأعلى.</span><span class="sxs-lookup"><span data-stu-id="3c324-119">Contract line details can also be generated from a project plan that was created by using the bottom-up estimate approach.</span></span>

<span data-ttu-id="3c324-120">يمكن استخدام تفاصيل شروط التعاقد لتقدير الوقت أو المصروفات أو الرسوم.</span><span class="sxs-lookup"><span data-stu-id="3c324-120">Contract line details can be used to estimate time, expenses, or fees.</span></span> <span data-ttu-id="3c324-121">يمكن أيضًا إدخال مبالغ الضريبة المقدرة في تفاصيل شروط التعاقد.</span><span class="sxs-lookup"><span data-stu-id="3c324-121">Estimated tax amounts can also be entered on a contract line detail.</span></span>

<span data-ttu-id="3c324-122">لا يسمح PSA بالتقديرات المادية في تفاصيل شروط التعاقد.</span><span class="sxs-lookup"><span data-stu-id="3c324-122">PSA doesn't allow for material estimates on contract line details.</span></span>

<span data-ttu-id="3c324-123">العمليات المدعومة في عقد مشروع هي إنشاء الفواتير وتأكيدها.</span><span class="sxs-lookup"><span data-stu-id="3c324-123">The processes that are supported on a project contract are invoice creation and confirmation.</span></span> <span data-ttu-id="3c324-124">تعمل عملية إنشاء الفاتورة على إنشاء مسودة لفاتورة مستندة إلى المشروع تتضمن كافة القيم الفعلية للمبيعات غير المفوترة حتى التاريخ الحالي.</span><span class="sxs-lookup"><span data-stu-id="3c324-124">Invoice creation creates a draft of a project-based invoice that includes all unbilled sales actuals until the current date.</span></span>

<span data-ttu-id="3c324-125">يحوّل التأكيد العقد إلى مقروء فقط ويغير حالته من **مسودة** إلى **مؤكد**.</span><span class="sxs-lookup"><span data-stu-id="3c324-125">Confirmation makes the contract read-only and changes its status from **Draft** to **Confirmed**.</span></span> <span data-ttu-id="3c324-126">بعد اتخاذ هذا الإجراء، لا يمكنك التراجع عنه.</span><span class="sxs-lookup"><span data-stu-id="3c324-126">After you take this action, you can't undo it.</span></span> <span data-ttu-id="3c324-127">ونظرا لأن هذا الإجراء دائم، فإنه من أفضل الممارسات الاحتفاظ بالعقد بالحالة **مسودة**.</span><span class="sxs-lookup"><span data-stu-id="3c324-127">Because this action is permanent, it's a best practice to keep the contract in a **Draft** status.</span></span>

<span data-ttu-id="3c324-128">تكمن الاختلافات الوحيدة بين عقود المسودات والعقود المؤكدة في حالتها وحقيقة أنه يمكن تحرير العقود المسودة بينما لا يمكن ذلك مع العقود المؤكدة.</span><span class="sxs-lookup"><span data-stu-id="3c324-128">The only differences between draft contracts and confirmed contracts are their status and the fact that draft contracts can be edited whereas confirmed contracts can't.</span></span> <span data-ttu-id="3c324-129">يمكن القيام بإنشاء الفواتير وتعقب القيم الفعلية في كل من عقود المسودات والعقود المؤكدة.</span><span class="sxs-lookup"><span data-stu-id="3c324-129">Invoice creation and tracking actuals can be done on both draft contracts and confirmed contracts.</span></span>

<span data-ttu-id="3c324-130">لا تدعم PSA تغيير الأوامر في العقود أو المشروعات.</span><span class="sxs-lookup"><span data-stu-id="3c324-130">PSA doesn't support change orders on contracts or projects.</span></span>

## <a name="estimating-projects"></a><span data-ttu-id="3c324-131">تقدير المشاريع</span><span class="sxs-lookup"><span data-stu-id="3c324-131">Estimating projects</span></span>

<span data-ttu-id="3c324-132">يمكنك تقدير الوقت والمصروفات في المشروعات.</span><span class="sxs-lookup"><span data-stu-id="3c324-132">You can estimate time and expenses on projects.</span></span> <span data-ttu-id="3c324-133">لا يسمح PSA بتقديرات المواد أو الرسوم في المشاريع.</span><span class="sxs-lookup"><span data-stu-id="3c324-133">PSA doesn't allow for estimates of materials or fees on projects.</span></span>

<span data-ttu-id="3c324-134">يتم إنشاء تقديرات الوقت عندما تقوم بإنشاء مهمة وتحدد سمات مورد عام مطلوب لتنفيذ المهمة.</span><span class="sxs-lookup"><span data-stu-id="3c324-134">Time estimates are generated when you create a task and identify the attributes of a generic resource that is required to perform the task.</span></span> <span data-ttu-id="3c324-135">يتم إنشاء تقديرات الوقت من مهام الجدول.</span><span class="sxs-lookup"><span data-stu-id="3c324-135">Time estimates are generated from schedule tasks.</span></span> <span data-ttu-id="3c324-136">لا يتم إنشاء تقديرات الوقت إذا قمت بإنشاء أعضاء فريق عام خارج سياق الجدول.</span><span class="sxs-lookup"><span data-stu-id="3c324-136">Time estimates aren't created if you create generic team members outside the context of the schedule.</span></span>

<span data-ttu-id="3c324-137">يتم إدخال تقديرات المصروفات في الشبكة في صفحة **التقديرات**.</span><span class="sxs-lookup"><span data-stu-id="3c324-137">Expense estimates are entered in the grid on the **Estimates** page.</span></span>

## <a name="understanding-estimation"></a><span data-ttu-id="3c324-138">فهم التقدير</span><span class="sxs-lookup"><span data-stu-id="3c324-138">Understanding estimation</span></span>

<span data-ttu-id="3c324-139">استخدم الجدول التالي كدليل لفهم منطق الأعمال في مرحلة التقدير.</span><span class="sxs-lookup"><span data-stu-id="3c324-139">Use the following table as a guide for understanding the business logic in the estimation phase.</span></span>

| <span data-ttu-id="3c324-140">السيناريو</span><span class="sxs-lookup"><span data-stu-id="3c324-140">Scenario</span></span>                                                                                                                                                                                                                                                                                                                                          | <span data-ttu-id="3c324-141">سجل الكيان</span><span class="sxs-lookup"><span data-stu-id="3c324-141">Entity record</span></span>                                                                                                                                                                                                       | <span data-ttu-id="3c324-142">‏‫نوع المعاملة</span><span class="sxs-lookup"><span data-stu-id="3c324-142">Transaction Type</span></span> | <span data-ttu-id="3c324-143">فئة الحركة</span><span class="sxs-lookup"><span data-stu-id="3c324-143">Transaction Class</span></span> | <span data-ttu-id="3c324-144">معلومات إضافية</span><span class="sxs-lookup"><span data-stu-id="3c324-144">Additional information</span></span>                                                            |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------|-------------|-----------------------------------------------------------------------------------|
| <span data-ttu-id="3c324-145">عندما تحتاج إلى تقدير قيمة الوقت لمبيعات في عرض أسعار</span><span class="sxs-lookup"><span data-stu-id="3c324-145">When you need to estimate the sales value of time on a quote</span></span>                                                                                                                                                                                                                                                                                    | <span data-ttu-id="3c324-146">تم إنشاء سجل تفاصيل بنود عرض الأسعار (QLD)</span><span class="sxs-lookup"><span data-stu-id="3c324-146">Quote line detail (QLD) record is created</span></span>                                                                                                                                                                               | <span data-ttu-id="3c324-147">عقد المشروع</span><span class="sxs-lookup"><span data-stu-id="3c324-147">Project contract</span></span> | <span data-ttu-id="3c324-148">Time</span><span class="sxs-lookup"><span data-stu-id="3c324-148">Time</span></span>        | <span data-ttu-id="3c324-149">حقل أصل الحركة في الصف QLD بجانب المبيعات يشير إلى QLD بجانب التكلفة</span><span class="sxs-lookup"><span data-stu-id="3c324-149">Transaction origin field on the sales side QLD row references the Cost side QLD</span></span> |
|                                                                                                                                                                                                                                                                                     | <span data-ttu-id="3c324-150">يتم إنشاء سجل QLD ثان بواسطة النظام لتخزين قيم التكلفة المقابلة.</span><span class="sxs-lookup"><span data-stu-id="3c324-150">A second QLD record is created by the system to store the corresponding cost values.</span></span> <span data-ttu-id="3c324-151">يتم نسخ كافة الحقول غير المالية من QLD للمبيعات إلى QLD للتكلفة بواسطة النظام.</span><span class="sxs-lookup"><span data-stu-id="3c324-151">All non-money fields are copied from the sales QLD to the Cost QLD by the system.</span></span>                                                                                                                                                                               | <span data-ttu-id="3c324-152">تكلفة</span><span class="sxs-lookup"><span data-stu-id="3c324-152">Cost</span></span> | <span data-ttu-id="3c324-153">Time</span><span class="sxs-lookup"><span data-stu-id="3c324-153">Time</span></span>        | <span data-ttu-id="3c324-154">حقل أصل الحركة في الصف تفاصيل بند عرض الأسعار (QLD) بجانب المبيعات يشير إلى QLD بجانب التكلفة</span><span class="sxs-lookup"><span data-stu-id="3c324-154">Transaction origin field on the sales side quote line detail (QLD) row references the Cost side QLD</span></span> |
| <span data-ttu-id="3c324-155">عندما تحتاج إلى تقدير قيمة الوقت لمبيعات في عقد</span><span class="sxs-lookup"><span data-stu-id="3c324-155">When you need to estimate the sales value of time on a contract</span></span>                                                                                                                                                                                                                                                                                 | <span data-ttu-id="3c324-156">تم إنشاء سجل تفاصيل شروط تعاقد المشروع (CLD)</span><span class="sxs-lookup"><span data-stu-id="3c324-156">Project contract line detail (CLD) record is created</span></span>                                                                                                                                                                    | <span data-ttu-id="3c324-157">عقد المشروع</span><span class="sxs-lookup"><span data-stu-id="3c324-157">Project Contract</span></span> | <span data-ttu-id="3c324-158">Time</span><span class="sxs-lookup"><span data-stu-id="3c324-158">Time</span></span>        | <span data-ttu-id="3c324-159">حقل أصل الحركة في الصف CLD بجانب المبيعات يشير إلى CLD للتكلفة</span><span class="sxs-lookup"><span data-stu-id="3c324-159">Transaction origin field on the sales side CLD row references the cost CLD</span></span>      |
|                                                                                                                                                                                                                                                                                  | <span data-ttu-id="3c324-160">يتم إنشاء سجل CLD ثان بواسطة النظام لتخزين قيم التكلفة المقابلة.</span><span class="sxs-lookup"><span data-stu-id="3c324-160">A second CLD record is created by the system to store the corresponding cost values.</span></span> <span data-ttu-id="3c324-161">يتم نسخ كافة الحقول غير المالية من CLD للمبيعات إلى CLD للتكلفة بواسطة النظام.</span><span class="sxs-lookup"><span data-stu-id="3c324-161">All non-money fields are copied from the sales CLD to the cost CLD by the system.</span></span>                                                                                                                                                                    | <span data-ttu-id="3c324-162">تكلفة</span><span class="sxs-lookup"><span data-stu-id="3c324-162">Cost</span></span> | <span data-ttu-id="3c324-163">Time</span><span class="sxs-lookup"><span data-stu-id="3c324-163">Time</span></span>        | <span data-ttu-id="3c324-164">حقل أصل الحركة في الصف CLD بجانب المبيعات يشير إلى CLD للتكلفة</span><span class="sxs-lookup"><span data-stu-id="3c324-164">Transaction origin field on the sales side CLD row references the cost CLD</span></span>      |
| <span data-ttu-id="3c324-165">عندما يصف المستخدم موردا في مهمة مشروع</span><span class="sxs-lookup"><span data-stu-id="3c324-165">When the user describes a resource on a project task</span></span>                                                                                                                                                                                                                                                                                            | <span data-ttu-id="3c324-166">يتم إنشاء سجل سطر التقدير لإظهار قيمة المبيعات للمهمة عندما يتم إنشاء مهمة بكافة أبعاد التسعير المطلوبة.</span><span class="sxs-lookup"><span data-stu-id="3c324-166">Estimate line record to show the sales value of the task is created when a task is created with all required pricing dimensions.</span></span> <span data-ttu-id="3c324-167">الدور والوحدات التنظيمية هي أبعاد تسعير OOB Project Service</span><span class="sxs-lookup"><span data-stu-id="3c324-167">Role and organizational units are the OOB Project Service pricing dimensions</span></span> | <span data-ttu-id="3c324-168">عقد المشروع</span><span class="sxs-lookup"><span data-stu-id="3c324-168">Project Contract</span></span> | <span data-ttu-id="3c324-169">Time</span><span class="sxs-lookup"><span data-stu-id="3c324-169">Time</span></span>        |                                                                                   |
|     | <span data-ttu-id="3c324-170">يتم إنشاء سجل سطر التقدير لإظهار قيمة التكلفة للمهمة عندما يتم إنشاء مهمة بكافة أبعاد التسعير المطلوبة.</span><span class="sxs-lookup"><span data-stu-id="3c324-170">The estimate line record to show the cost value of the task is created when a task is created with all required pricing dimensions.</span></span> <span data-ttu-id="3c324-171">يتم نسخ كافة الحقول غير المالية من سطر التقدير للمبيعات إلى سطر التقدير للتكلفة بواسطة النظام.</span><span class="sxs-lookup"><span data-stu-id="3c324-171">All non-money fields are copied from the sales estimate line to the cost estimate line by the system.</span></span> <span data-ttu-id="3c324-172">الدور والوحدة التنظيمية هما أبعاد التسعير الخاصة لـ OOB PSA لكل من أسعار التكلفة الفاتورة.</span><span class="sxs-lookup"><span data-stu-id="3c324-172">Role and organizational unit are the OOB PSA pricing dimensions for both cost and bill rates.</span></span>                                                                                                                                                                                                                | <span data-ttu-id="3c324-173">تكلفة</span><span class="sxs-lookup"><span data-stu-id="3c324-173">Cost</span></span>             | <span data-ttu-id="3c324-174">Time</span><span class="sxs-lookup"><span data-stu-id="3c324-174">Time</span></span>           |                                                                                   |



## <a name="customizing-the-quote-line-detail-and-contract-line-detail-entities"></a><span data-ttu-id="3c324-175">تخصيص كيانات تفاصيل بند عرض الأسعار وكيانات تفاصيل شروط التعاقد</span><span class="sxs-lookup"><span data-stu-id="3c324-175">Customizing the Quote line detail and Contract line detail entities</span></span>

<span data-ttu-id="3c324-176">إذا قمت بإضافة حقل مخصص إلى تفاصيل بند عرض الأسعار وتريد أن يقوم النظام بإدخال قيمة الحقل كقيمة افتراضيه في بند التكلفة ذي الصلة الذي ينشئه، استخدم أدوات تسجيل المكونات الإضافية PreOperationContractLineDetailUpdate وPreOperationQuoteLineDetailUpdate.</span><span class="sxs-lookup"><span data-stu-id="3c324-176">If you added a custom field on the quote line detail and want the system to enter the value of the field as a default value on the related cost line that it creates, use the PreOperationContractLineDetailUpdate and PreOperationQuoteLineDetailUpdate plug-in registration tools.</span></span> <span data-ttu-id="3c324-177">ويجب إعادة تسجيل هذه المكونات الإضافية بعد تغيير تفصيل بند عرض الأسعار أو تغيير تفاصيل شرط التعاقد.</span><span class="sxs-lookup"><span data-stu-id="3c324-177">These plug-ins must be re-registered after the quote line detail or the contract line detail is changed.</span></span> <span data-ttu-id="3c324-178">اتبع هذه الخطوات لاستكمال العملية.</span><span class="sxs-lookup"><span data-stu-id="3c324-178">Follow these steps to complete the process.</span></span>

1. <span data-ttu-id="3c324-179">افتح PluginRegistrationTool، وقم بالاتصال بالمثيل الخاص بك على الإنترنت.</span><span class="sxs-lookup"><span data-stu-id="3c324-179">Open PluginRegistrationTool, and connect to your online instance.</span></span>
2. <span data-ttu-id="3c324-180">حدد **بحث**، وابحث عن المكون الإضافي المراد تحديثه.</span><span class="sxs-lookup"><span data-stu-id="3c324-180">Select **Search**, and search for the plug-in to update.</span></span>

    ![مربع حوار شجرة البحث](media/basic-guide-19.png)

3. <span data-ttu-id="3c324-182">حدد المكون الإضافي، ثم في الصفحة الرئيسية، حدد **تحديد**.</span><span class="sxs-lookup"><span data-stu-id="3c324-182">Select the plug-in, and then, on the main page, select **Select**.</span></span>
4. <span data-ttu-id="3c324-183">حدد خطوة المكون الإضافي المراد تحديثها، وانقر بزر الماوس الأيمن، ثم حدد **تحديث**.</span><span class="sxs-lookup"><span data-stu-id="3c324-183">Select the step of the plug-in to update, right-click, and then select **Update**.</span></span>

    ![تحديد خطوة في المكون الإضافي](media/basic-guide-20.png)

5. <span data-ttu-id="3c324-185">في مربع حوار **تحديث خطوة موجودة**، في حقل **سمات التصفية** حدد زر علامة حذف (**...**):</span><span class="sxs-lookup"><span data-stu-id="3c324-185">In the **Update Existing Step** dialog box, in the **Filtering Attributes** field, select the ellipsis button (**...**):</span></span>
 
    ![مربع حوار تحديث خطوة موجودة](media/basic-guide-21.png)

6. <span data-ttu-id="3c324-187">في مربع حوار **تحديد السمات**، قم بتحديد خانات الاختيار للسمات المخصصة.</span><span class="sxs-lookup"><span data-stu-id="3c324-187">In the **Select Attributes** dialog box, select check boxes for custom attributes.</span></span>

    ![مربع حوار تحديد السمات](media/basic-guide-22.png)

7. <span data-ttu-id="3c324-189">حدد **موافق** لإغلاق مربع الحوار، ثم حدد **تحديث الخطوة**.</span><span class="sxs-lookup"><span data-stu-id="3c324-189">Select **OK** to close the dialog box, and then select **Update Step**.</span></span>
 
    ![زر تحديث الخطوة](media/basic-guide-23.png)

8. <span data-ttu-id="3c324-191">كرر الخطوات من 1 إلى 7 للمكون الإضافي الثاني.</span><span class="sxs-lookup"><span data-stu-id="3c324-191">Repeat steps 1 through 7 for the second plug-in.</span></span>
9. <span data-ttu-id="3c324-192">أغلق PluginRegistrationTool.</span><span class="sxs-lookup"><span data-stu-id="3c324-192">Close the PluginRegistrationTool.</span></span>
