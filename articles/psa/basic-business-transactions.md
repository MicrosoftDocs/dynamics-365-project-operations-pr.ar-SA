---
title: حركات الأعمال
description: يقدم هذا الموضوع معلومات حول حركات الأعمال.
author: rumant
ms.custom:
- dyn365-projectservice
ms.date: 03/01/2019
ms.topic: article
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365CE
- D365PS
- ProjectOperations
ms.reviewer: johnmichalak
ms.openlocfilehash: 7c1fd7046783b98b7c2e823b2c2eb8bbdfb232fc
ms.sourcegitcommit: c0792bd65d92db25e0e8864879a19c4b93efb10c
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 04/14/2022
ms.locfileid: "8583329"
---
# <a name="business-transactions"></a>حركات الأعمال

[!include [banner](../includes/psa-now-project-operations.md)]

[!INCLUDE[cc-applies-to-psa-app-3.x](../includes/cc-applies-to-psa-app-3x.md)]

في Dynamics 365 Project Service Automation، تشكل *حركة الأعمال* مفهوما مجردًا لا يتم تمثيله بواسطة أي كيان. ومع ذلك، تم تصميم بعض الحقول والعمليات الشائعة الموجودة في الكيانات لاستخدام مفهوم حركات الأعمال. تستخدم الكيانات التالية هذا المفهوم المجرد:

- تفاصيل بند عرض الأسعار‬
- تفاصيل شروط التعاقد
- بنود التقدير
- سطور دفتر اليومية
- القيم الفعلية

من هذه الكيانات، يتم تعيين تفاصيل سطر عرض الأسعار وتفاصيل شروط التعاقد وبنود التقدير إلى مرحلة التقدير في دورة حياه المشروع. ويتم تعيين سطور دفتر اليومية وكيانات القيم الفعلية إلى مرحلة التنفيذ في دورة حياة المشروع.

يعامل PSA السجلات في هذه الكيانات الخمسة كحركات أعمال. والفرق الوحيد هو أن السجلات الموجودة في الكيانات التي تم تعيينها إلى مرحلة التقدير هي التنبؤات المالية، بينما تعتبر السجلات الموجودة في الكيانات التي يتم تعيينها إلى مرحلة التنفيذ حقائق مالية قد حدثت بالفعل.

للحصول على مزيد من المعلومات، راجع [التقديرات](estimates.md) و[القيم الفعلية](actuals.md).

## <a name="concepts-that-are-unique-to-business-transactions"></a>المفاهيم الفريدة لحركات الأعمال
تعتبر المفاهيم التالية فريدة لمفهوم حركات الأعمال:

- ‏‫نوع الحركة
- فئة الحركة
- أصل الحركة
- اتصال الحركة

### <a name="transaction-type"></a>‏‫نوع الحركة

يمثل نوع الحركة التوقيت وسياق التأثير المالي على مشروع. ويتم تمثيله بواسطة مجموعة خيارات تحتوي على القيم المدعمة التالية في PSA:
- تكلفة
- عقد المشروع
- مبيعات غير مفوترة
- المبيعات المفوترة
- مبيعات بين المؤسسات
- تكلفة وحدة تعيين الموارد

### <a name="transaction-class"></a>فئة الحركة

تمثل فئة الحركة الأنواع المختلفة للتكاليف التي تم تكبدها في المشاريع. ويتم تمثيله بواسطة مجموعة خيارات تحتوي على القيم المدعمة التالية في PSA:

- Time
- مصروفات
- المادة
- رسوم
- الأحداث الرئيسية
- الضريبة

عادة ما يتم استخدام قيمة **الحدث الرئيسي** منطق الأعمال الخاص بالفوترة ثابتة السعر في PSA.

### <a name="transaction-origin"></a>أصل الحركة

أصل الحركة هو كيان يخزن أصل كل حركة عمل. أثناء تنفيذ المشروع، ستقوم حركة عمل بإنشاء حركة عمل جديدة تقوم بدورها بإنشاء حركة عمل وما إلى ذلك. تم تصميم كيان أصل الحركة لتخزين البيانات المتعلقة بأصل كل حركة للمساعدة في إعداد التقارير وقابلية التتبع. 

### <a name="transaction-connection"></a>اتصال الحركة

اتصال الحركة هو كيان يقوم بتخزين العلاقة بين اثنين من حركات الأعمال، مثل التكلفة وقيم المبيعات الفعلية ذات الصلة، أو عمليات إلغاء الحركات التي يتم تشغيلها بواسطة أنشطة الفوترة مثل التأكيد الفاتورة أو تصحيحات الفاتورة.

وتساعدك كيانات أصل الحركة واتصال الحركة معًا في المحافظة على تعقب العلاقات بين حركات الأعمال والإجراءات التي تؤدي إلى إنشاء حركة عمل معينة.

### <a name="example-how-transaction-origin-works-with-transaction-connection"></a>مثال: كيف يعمل أصل الحركة مع اتصال الحركة

يوضح المثال التالي المعالجة النموذجية لإدخالات الوقت في دورة حياة مشروع PSA.

> ![معالجة وإدخالات الوقت في دورة حياة خدمه Project Service.](media/basic-guide-17.png)
 
1. يتسبب إرسال إدخال وقت في إنشاء سطرين من أسطر دفتر اليومية: أحدهما للتكلفة والأخر للمبيعات غير المفوترة.
2. تتسبب الموافقة النهائية على إدخال وقت في إنشاء قيمتين فعليتين: أحدهما للتكلفة والأخرى للمبيعات غير المفوترة.
3. وعندما يقوم المستخدم بإنشاء فاتورة مشروع، يتم إنشاء حركة بند الفاتورة باستخدام بيانات من القيمة الفعلية للمبيعات غير المفوترة. 
4. عند تأكيد الفاتورة، يتم إنشاء قيمتين فعليتين جديدتين: إلغاء المبيعات غير المفوترة وقمية فعلية للمبيعات المفوترة.

تشغل كل من هذه الأحداث إنشاء السجلات في كيانات أصل الحركة و اتصال الحركة للمساعدة في بناء مسار تتبع للعلاقات بين هذه السجلات التي تم إنشاؤها عبر إدخال الوقت، وسطر دفتر اليومية، والقيم الفعلية وتفاصيل سطر الفاتورة.

يوضح الجدول التالي السجلات في كيان أصل الحركة لسير العمل السابق.

| حدث                        | الأصل                   | نوع الأصل                       | الحركة                       | ‏‫نوع الحركة         |
|------------------------------|--------------------------|-----------------------------------|-----------------------------------|--------------------------|
| إرسال إدخال الوقت        | معرف GUID لسجل إدخال الوقت   | إدخال الوقت                        | المعرف الفريد العمومي لسجل سطر دفتر اليومية (التكلفة)   | سطر دفتر اليومية             |
| معرف GUID لسجل إدخال الوقت       | إدخال الوقت               | المعرف الفريد العمومي لسجل سطر دفتر اليومية (المبيعات)  | سطر دفتر اليومية                      |                          |
| الموافقة على الوقت                | المعرف الفريد العمومي لسجل سطر دفتر اليومية | سطر دفتر اليومية                      | المعرف الفريد العمومي لسجل المبيعات غير المفوترة        | فعلي                   |
| معرف GUID لسجل إدخال الوقت       | إدخال الوقت               | المعرف الفريد العمومي لسجل المبيعات غير المفوترة        | فعلي                            |                          |
| المعرف الفريد العمومي لسجل سطر دفتر اليومية     | سطر دفتر اليومية             | المعرف الفريد العمومي لسجل القيم الفعلية للتكلفة           | فعلي                            |                          |
| معرف GUID لسجل إدخال الوقت       | إدخال الوقت               | المعرف الفريد العمومي لسجل القيم الفعلية للتكلفة           | فعلي                            |                          |
| إنشاء فاتورة             | معرف GUID لسجل إدخال الوقت   | إدخال الوقت                        | المعرف الفريد العمومي لحركة بند الفاتورة     | حركة بند الفاتورة |
| المعرف الفريد العمومي لسجل سطر دفتر اليومية     | سطر دفتر اليومية             | المعرف الفريد العمومي لحركة بند الفاتورة     | حركة بند الفاتورة          |                          |
| تأكيد الفاتورة         | المعرف الفريد العمومي لبند الفاتورة        | بند الفاتورة                      | المعرف الفريد العمومي لسجل المبيعات المفوترة          | فعلي                   |
| المعرف الفريد العمومي لفاتورة                 | الفاتورة                  | المعرف الفريد العمومي لسجل المبيعات المفوترة          | فعلي                            |                          |
| المعرف الفريد العلمومي لتفاصيل بند الفاتورة     | تفاصيل بند الفاتورة      | المعرف الفريد العمومي لسجل المبيعات المفوترة          | فعلي                            |                          |
| معرف GUID لسجل إدخال الوقت       | إدخال الوقت               | المعرف الفريد العمومي لسجل المبيعات المفوترة          | فعلي                            |                          |
| المعرف الفريد العمومي لسجل سطر دفتر اليومية     | سطر دفتر اليومية             | المعرف الفريد العمومي لسجل المبيعات المفوترة          | فعلي                            |                          |
| معرف GUID لسجل إدخال الوقت       | إدخال الوقت               | المعرف الفريد العمومي لإلغاء مبيعات غير مفوترة      | فعلي                            |                          |
| المعرف الفريد العمومي لسجل سطر دفتر اليومية     | سطر دفتر اليومية             | المعرف الفريد العمومي لإلغاء مبيعات غير مفوترة      | فعلي                            |                          |
| تصحيح فاتورة المسودة     | المعرف الفريد العمومي لـ ILD قديم             | حركة بند الفاتورة          | المعرف الفريد العمومي لـ ILD للتصحيح               | حركة بند الفاتورة |
| المعرف الفريد العمومي لـ IL القديم                  | بند الفاتورة             | المعرف الفريد العمومي لـ ILD للتصحيح               | حركة بند الفاتورة          |                          |
| المعرف الفريد العمومي لفاتورة قديمة             | الفاتورة                  | المعرف الفريد العمومي لـ ILD للتصحيح               | حركة بند الفاتورة          |                          |
| معرف GUID لسجل إدخال الوقت       | إدخال الوقت               | المعرف الفريد العمومي لـ ILD للتصحيح               | حركة بند الفاتورة          |                          |
| المعرف الفريد العمومي لسجل سطر دفتر اليومية     | سطر دفتر اليومية             | المعرف الفريد العمومي لـ ILD للتصحيح               | حركة بند الفاتورة          |                          |
| تصحيح فاتورة مؤكدة | المعرف الفريد العمومي لـ ILD قديم             | حركة بند الفاتورة          | المعرف الفريد العمومي لقيمة فعلية لمبيعات مفوترة ملغاة | فعلي                   |
| المعرف الفريد العمومي لـ IL القديم                  | بند الفاتورة             | المعرف الفريد العمومي لقيمة فعلية لمبيعات مفوترة ملغاة | فعلي                            |                          |
| المعرف الفريد العمومي لفاتورة قديمة             | الفاتورة                  | المعرف الفريد العمومي لقيمة فعلية لمبيعات مفوترة ملغاة | فعلي                            |                          |
| معرف GUID لسجل إدخال الوقت       | إدخال الوقت               | المعرف الفريد العمومي لقيمة فعلية لمبيعات مفوترة ملغاة | فعلي                            |                          |
| المعرف الفريد العمومي لسجل سطر دفتر اليومية     | سطر دفتر اليومية             | المعرف الفريد العمومي لقيمة فعلية لمبيعات مفوترة ملغاة | فعلي                            |                          |
| المعرف الفريد العمومي لـ ILD قديم                 | حركة بند الفاتورة | المعرف الفريد العمومي لقيمة فعلية لمبيعات غير المفوترة جديدة    | فعلي                            |                          |
| المعرف الفريد العمومي لـ IL القديم                  | بند الفاتورة             | المعرف الفريد العمومي لقيمة فعلية لمبيعات غير المفوترة جديدة    | فعلي                            |                          |
| المعرف الفريد العمومي لفاتورة قديمة             | الفاتورة                  | المعرف الفريد العمومي لقيمة فعلية لمبيعات غير المفوترة جديدة    | فعلي                            |                          |
| معرف GUID لسجل إدخال الوقت       | إدخال الوقت               | المعرف الفريد العمومي لقيمة فعلية لمبيعات غير المفوترة جديدة    | فعلي                            |                          |
| المعرف الفريد العمومي لسجل سطر دفتر اليومية     | سطر دفتر اليومية             | المعرف الفريد العمومي لقيمة فعلية لمبيعات غير المفوترة جديدة    | فعلي                            |                          |
| المعرف الفريد العمومي لـ ILD للتصحيح          | حركة بند الفاتورة | المعرف الفريد العمومي لقيمة فعلية لمبيعات غير المفوترة جديدة    | فعلي                            |                          |
| المعرف الفريد العمومي لـ IL تصحيحي           | بند الفاتورة             | المعرف الفريد العمومي لقيمة فعلية لمبيعات غير المفوترة جديدة    | فعلي                            |                          |
| المعرف الفريد العمومي لتصحيح الفاتورة      | الفاتورة                  | المعرف الفريد العمومي لقيمة فعلية لمبيعات غير المفوترة جديدة    | فعلي                            |                          |

يوضح الجدول التالي السجلات في كيان تصحيح الحركة لسير العمل السابق.

| حدث                          | الحركة 1                 | دور الحركة 1 | نوع الحركة 1           | الحركة 2                | دور الحركة 2 | نوع الحركة 2 |
|--------------------------------|-------------------------------|--------------------|------------------------------|------------------------------|--------------------|--------------------|
| إرسال إدخال الوقت          | المعرف الفريد العمومي لسطر دفتر اليومية (المبيعات)     | مبيعات غير مفوترة     | msdyn_journalline            | المعرف الفريد العمومي لسطر دفتر اليومية (التكلفة)     | تكلفة               | msdyn_journalline  |
| الموافقة على الوقت                  | المعرف الفريد العمومي للقيم الفعلية غير المفوترة (المبيعات)  | مبيعات غير مفوترة     | msdyn_actual                 | المعرف الفريد العمومي للقيمة الفعلية للتكلفة (التكلفة)       | تكلفة               | msdyn_actual       |
| إنشاء فاتورة               | المعرف الفريد العلمومي لتفاصيل بند الفاتورة      | المبيعات المفوترة       | msdyn_invoicelinetransaction | المعرف الفريد العمومي للقيم الفعلية للمبيعات غير المفوترة   | مبيعات غير مفوترة     | msdyn_actual       |
| تأكيد الفاتورة           | الفريد العمومي الفعلي للقيمة الفعلية الملغاة         | إلغاء          | msdyn_actual                 | المعرف الفريد العمومي مبيعات غير مفوترة أصلية | أصلي           | msdyn_actual       |
| المعرف الفريد العمومي للمبيعات المفوترة              | المبيعات المفوترة                  | msdyn_actual       | المعرف الفريد العمومي للقيم الفعلية للمبيعات غير المفوترة   | مبيعات غير مفوترة               | msdyn_actual       |                    |
| تصحيح فاتورة المسودة       | المعرف الفريد العمومي لحركة بند الفاتورة | استبدال          | msdyn_invoicelinetransaction | المعرف الفريد العمومي للمبيعات المفوترة            | أصلي           | msdyn_actual       |
| تأكيد تصحيح فاتورة     | المعرف الفريد العمومي لإلغاء مبيعات مفوترة    | إلغاء          | msdyn_actual                 | المعرف الفريد العمومي للمبيعات المفوترة            | أصلي           | msdyn_actual       |
| المعرف الفريد العمومي لقيمة فعلية لمبيعات غير المفوترة جديدة | استبدال                     | msdyn_actual       | المعرف الفريد العمومي للمبيعات المفوترة            | أصلي                     | msdyn_actual       |                    |


[!INCLUDE[footer-include](../includes/footer-banner.md)]
