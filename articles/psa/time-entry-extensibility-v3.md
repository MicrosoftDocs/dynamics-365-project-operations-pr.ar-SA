---
title: تخصيص إدخال الوقت الأسبوعي
description: يقدم هذا الموضوع معلومات حول كيفية تطبيق قواعد العمل المخصصة التي تدعم ممارسات المؤسسة.
author: stsporen
manager: kfend
ms.service: project-operations
ms.custom:
- dyn365-projectservice
ms.date: 07/09/2019
ms.topic: article
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365CE
- D365PS
- ProjectOperations
ms.openlocfilehash: f1c8e150500334e87b25a1c8d04cf28c7b7beaeb
ms.sourcegitcommit: fa32b1893286f20271fa4ec4be8fc68bd135f53c
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 02/15/2021
ms.locfileid: "5282047"
---
# <a name="customize-weekly-time-entry"></a>تخصيص إدخال الوقت الأسبوعي 

[!include [banner](../includes/psa-now-project-operations.md)]

[!INCLUDE[cc-applies-to-psa-app-3.x](../includes/cc-applies-to-psa-app-3x.md)]

في الإصدار 3.3 من Microsoft Dynamics 365 Project Service Automation، قدمت Microsoft شبكة حديثة تمكّن موارد المشروع من إدخال الوقت بسرعة لمده أسبوع واحد في كل مرة. يمكن لشبكة إدخال الوقت الأسبوعية الجديدة أن تعرض إجماليات للإدخالات حسب التاريخ أو الصف أو الأسبوع. يمكن للموارد إنشاء نسخ من إدخالات الوقت خلال الأسبوع وأيضًا نسخ مجمعة من الأسابيع السابقة. يمكن لمخصصي النظام تخصيص طريقة العرض عن طريق إضافة حقول، وإضافة عمليات بحث إلى كيانات أخرى، وتطبيق قواعد أعمال مخصصة لدعم ممارسات مؤسستهم.

يتم الوصول إلى إدخال الوقت وشبكة التوقيت الأسبوعية الجديدة من خلال مخطط الموقع. تم استبدال تجربة إدخال الوقت المخصص غير القابلة للتوسيع والتي كانت جزءًا من إصدارات PSA السابقة بشبكة إدخال الوقت الأسبوعية القابلة للتوسيع وأيضًا تجربة بديلة في التقويم وشبكة للقراءة فقط. ونظرا لهذا التغيير، يمكن للمستخدمين إدخال الوقت بالمقادير الأسبوعية.

## <a name="page-layout"></a>تخطيط الصفحة
وتعتبر شبكه إدخال الوقت الأسبوعي الجديدة عنصر تحكم مخصصًا يحتوي على شريط أدوات وقسمين أساسيين، **الأبعاد** و **المدة**. يتضمن شريط الأدوات زرًا ينطبق فقط على عنصر التحكم المخصص هذا لشبكة إدخال الوقت. على النقيض من ذلك ، تنطبق الأزرار الموجودة في "جزء الإجراء" في الجزء العلوي من الصفحة على ثلاثة أنواع من عناصر التحكم المدعومة لإدخال الوقت: عنصر التحكم في إدخال الوقت الأسبوعي، وعنصر تحكم للقراءة فقط ، وعنصر التحكم في التقويم.

### <a name="dimensions"></a>الأبعاد
يعرض قسم **الأبعاد**، كعناوين أعمدة، جميع الأبعاد التي يمكن إدخال هذا الوقت في مقابلها. الأبعاد التالية مدعومة بشكل جاهز:

- المشروع
- مهمة المشروع
- الدور
- النوع
- حالة الإدخال

لا يسمح قسم **الأبعاد** بالتحرير المضمن. يتم دعم هذا القسم بواسطة طريقة عرض تمكّن من إضافة الحقول المخصصة إلى شبكة إدخال الوقت الأسبوعية. للحصول على معلومات حول كيفية إضافة حقول مخصصة ، راجع قسم "القابلية للتوسعة" لاحقًا في هذا الموضوع.

### <a name="duration"></a>المدة
يُظهر قسم المدة أيام الأسبوع كرؤوس أعمدة. يسمح هذا المقطع بالتحرير المضمن. بعد إنشاء صف إدخال زمني له أبعاد مناسبة ، يمكن للمستخدمين إدخال مقدار الوقت الذي يقضونه في هذه الأبعاد بشكل سريع.

## <a name="create-a-new-time-entry"></a>إنشاء إدخال وقت جديد
لإنشاء إدخال وقت جديد في شبكة إدخال الوقت، حدد **جديد**. عندئذ يظهر مربع الحوار **الإنشاء السريع لإدخال الوقت**. في مربع الحوار هذا، يمكن للمستخدمين تحديد تاريخ إدخال الوقت، ثم إدخال البيانات الخاصة بأبعاد **المشروع** و **مهمة المشروع** و **الدور** و **المدة** بالدقائق أو الساعات أو الأيام بكتابة **h** أو **m** أو **d**، بالإضافة إلى الرقم. يمكن للمستخدمين أيضًا إدخال وصف وتعليقات يمكن مشاركتها خارجيًا لإدخال الوقت. عندما يقوم المستخدمون بحفظ التغييرات الخاصة بهم، تظهر القيم التي أدخلتها في مقابل الأبعاد في **الأبعاد**. تظهر معلومات المدة التي أدخلتها في حقل **المدة** في التاريخ الذي تم فيه إنشاء إدخال الوقت.

يتم عمل نسخة احتياطية من حقول البحث بواسطة طرق عرض النظام. على سبيل المثال، بعد أن يقوم مستخدم بإدخال مشروع، يتم تعيين حقل **مهمة المشروع** يتم تعيين طريقة عرض **نسخ** بشكل افتراضي. لإنشاء إدخالات وقت للمهام التي لا يتم تعيينها إلى مستخدم، حدد **تغيير طريقة العرض** مربع الحوار بحث، ثم حدد طريقة عرض **كل مهام المشروع النشطة**.

## <a name="edit-a-time-entry"></a>تحرير إدخال وقت
لا تظهر التفاصيل من بعض الحقول في صفحة إدخال الوقت، مثل **الوصف** و **التعليقات الخارجية** في شبكة إدخال الوقت الأسبوعي. بدلا من ذلك، يظهر مؤشر مثلث صغير في خلايا المدة التي تحتوي على هذه التفاصيل الاضافيه. حدد الخلية، ثم حدد **تحرير التفاصيل** لعرض البيانات في جزء **التحرير السريع**. لتحرير التفاصيل أو تحديثها لإدخال وقت محدد ليس جزءًا من شبكه إدخال الوقت الأسبوعي، يجب على المستخدمين فتح جزء **التحرير السريع**.

## <a name="copy-a-time-entry-row"></a>نسخ صف إدخال الوقت
بعد إنشاء صف الإدخال في المرة الأولى، يمكن للمستخدمين تحديد **نسخ صف** لنسخ الصف بأكمله إلى صف جديد. وعند نسخ صف بهذه الطريقة، يتم أيضا نسخ الأبعاد والمدد. كما يمكن للمستخدمين تحديد **تحرير صف** لتحديث قيم الأبعاد والمدد المضمنة في قسم **المدة**.

## <a name="open-a-time-entry"></a>فتح إدخال وقت
لدعم الإدخال الأمثل والسريع في الحقول الأكثر ظهورًا ، تُظهر شبكه إدخال الوقت الأسبوعي مجموعه فرعيه من الابعاد والمدد الزمنية المحددة. لعرض كافة التفاصيل الخاصة بإدخال واحد واحد، ضمن **تحرير الإدخال**، حدد **فتح**.

## <a name="submit-a-time-entry"></a>إرسال إدخال وقت
يمكن للمستخدمين إرسال إدخال وقت واحد أو مجموعه من إدخالات الوقت بتحديد جزء من الخلايا أو صف إدخال وقت بالكامل، ثم تحديد **إرسال**. وتظهر إدخالات الوقت المرسلة باعتبارها إدخالات في انتظار الموافقة في صفحة **الموافقة** من القائمين بالموافقة. بعد ان يتم إرسال إدخالات الوقت بنجاح، لا يمكن تحريرها.

## <a name="recall-a-time-entry"></a>استرجاع إدخال الوقت
يمكنك استرجاع إدخالات الوقت التي قمت بإرسالها. يمكنك استرجاع إدخال وقت واحد، أو مجموعه من إدخالات الوقت، أو صف كامل من إدخالات الوقت. تتوفر إدخالات الوقت المسترجعة للموارد للتحرير.

## <a name="time-entry-status"></a>حالة إدخال الوقت
يتم تعيين إدخالات الوقت الجديدة تلقائيا لحالة **مسودة**. وفي حاله إرسال إدخال وقت، يتم تحديث الحالة إلى **تم الإرسال**. وفي حالة الموافقة على إدخال وقت تم إرساله، يتم تحديث الحالة إلى **تمت الموافقة**. إذا تم رفض إدخال الوقت، فسيتم تحديث الحالة إلى **تم الإرجاع**، ويصبح الإدخال متاحًا للتصحيح وإعادة الإرسال. يمكن فقط حذف إدخالات الوقت التي لها حالة **مسودة**.

## <a name="view-rejection-comments"></a>عرض تعليقات الرفض
وعند رفض أحد إدخالات الوقت بواسطة قائم بالموافقة، قد يقوم القائم بالموافقة بإضافه تعليقات رفض لمساعده المورد على فهم سبب الرفض. لعرض تعليقات الرفض لإدخال وقت، حدد **فتح الإدخال**. ستظهر تعليقات الرفض في المخطط الزمني. في المخطط الزمني، يمكن للمورد الاستجابة إلى تعليقات الرفض قبل إعادة إرسال الإدخال.

## <a name="copy-week"></a>نسخ أسبوع
بعد أن يتم إنشاء إدخالات وقت قليلة، يستطيع المستخدمون تحديد **نسخ أسبوع** لإنشاء إدخالات الوقت الإضافية بشكل مجمع. سيظهر مربع الحوار **نسخ**. في قسم **من الفترة**، اتسخدم حقلي **تاريخ البدء** و **تاريخ الانتهاء** لتحديد نطاق التاريخ لنسخ إدخالات الوقت منه. في قسم **من الفترة**، في حقل **تاريخ البدء**، حدد التاريخ المراد إنشاء إدخالات الوقت له. ثم حدد **نسخ**. بالنسبة للتاريخ المحدد في الفترة "إلى"، يتم إنشاء نسخة من إدخالات الوقت لليوم المقابل من الأسبوع في الفترة "من". على سبيل المثال، يتم نسخ إدخال الوقت ليوم الإثنين من الأسبوع الماضية إلى إثنين الأسبوع المحدد على أنه الفترة "إلى".

## <a name="import"></a>استيراد
تُستخدم نفس العملية الأساسية للاستيراد من الحجوزات والتعيينات والتبادلات. يمكن للمستخدمين تحديد نطاق التاريخ الذي يتم استيراد الحجوزات منه. ويجب عليهم تحديد الحجوزات التي ينبغي نسخها في مسودة إدخالات الوقت بوضوح. في الإصدار السابق، تظهر إدخالات الوقت المقترحة في الشبكة والتقويم، وقد تم فقدها عندما تم تحديث الجلسة.

## <a name="extensibility"></a>إمكانية التوسعة
### <a name="add-custom-fields-that-have-lookups-to-other-entities"></a>إضافه حقول مخصصه تحتوي على عمليات بحث عن الكيانات الأخرى
هناك ثلاث خطوات أساسية لإضافة حقل مخصص إلى شبكة إدخال الوقت الأسبوعي.

1.  قم بإضافة الحقل المخصص إلى مربع الحوار إنشاء سريع.
2.  قم بتكوين الشبكة لعرض الحقل المخصص.
3.  قم بإضافه الحقل المخصص إما إلى سير مهمة تحرير الصف أو سير مهمة تحرير الخلية، كما هو مناسب.

يجب أيضا التاكد من أن الحقل الجديد يحتوي على الإعدادات المطلوبة في سير مهمة تحرير الصف أو الخلية. كجزء من هذه الخطوة، يجب تأمين الحقل، وذلك استنادا إلى حالة إدخال الوقت.

#### <a name="add-the-custom-field-to-the-quick-create-dialog-box"></a>إضافه الحقل المخصص إلى مربع الحوار إنشاء سريع
يجب إضافة الحقل المخصص إلى مربع الحوار إنشاء سريع لإدخال الوقت. حتى يتمكن المستخدمون من إدخال قيمه لها عند اضافتهم لإدخالات الوقت باستخدام الزر **جديد**.

#### <a name="configure-the-grid-to-show-the-custom-field"></a>تكوين الشبكة لعرض الحقل المخصص
هناك طريقتان لإضافة حقل مخصص إلى شبكة إدخال الوقت الأسبوعي. والخيار الأول هو تخصيص طريقة عرض **إدخالات الوقت الأسبوعية الخاصة بي** وإضافه الحقل المخصص اليها. يمكنك اختيار وضع وحجم الحقل المخصص في الشبكة عن طريق تحرير هذه الخصائص في طريقه العرض.

الخيار الثاني هو إنشاء طريقة عرض جديدة لإدخال الوقت وتعيينه باعتباره طريقة العرض الافتراضية. ينبغي أن تحتوي طريقه العرض هذه على حقلي **الوصف** و **التعليقات الخارجية**، بالإضافة إلى الاعمده التي ترغب في وجودها في الشبكة. يمكنك اختيار الوضع والحجم وترتيب الفرز الافتراضي للشبكة عن طريق تحرير هذه الخصائص في طريقه العرض. بعد ذلك، قم بتكوين عنصر التحكم المخصص لطريقه العرض هذه بحيث يكون عنصر التحكم في **شبكة إدخال الوقت**. قم باضافه عنصر التحكم هذا إلى طريقه العرض، وحدده للويب والهاتف والكمبيوتر اللوحي. بعد ذلك، قم بتكوين المعلمات الخاصة بشبكة إدخال الوقت الأسبوعي. قم بتعيين حقل **تاريخ البدء** إلى **msdyn_date**، وقم بتعيين حقل **المدة** إلى **msdyn_duration**، وقم بتعيين حقل **الحالة** إلى **msdyn_entrystatus**. بالنسبة لطريقة العرض الافتراضية، يتم تعيين حقل **قائمة الحالة للقراءة فقط** إلى **192350002,192350003,192350004**، ويتم تعيين الحقل **سير مهمة تحرير الصف** إلى **msdyn_timeentryrowedit**، ويتم تعيين حقل **سير مهمة تحرير الخلية** إلى **msdyn_timeentryedit**. يمكنك تخصيص هذه الحقول لإضافة حالة للقراءة فقط أو ازالتها ، أو لاستخدام تجربة مختلفة مستنده إلى مهمة (TBX) لتحرير الصفوف أو الخلايا. يجب أن تكون هذه الحقول مرتبطة بقيمه ثابتة.

#### <a name="add-the-custom-field-to-the-appropriate-edit-task-flow"></a>إضافة الحقل المخصص إلى سير مهمة التحرير المناسبة
ويمكن العثور على صفحات TBX التي يتم استخدامها للتحرير ضمن **العمليات**. الصفحات الافتراضية هي **Project Service - تحرير صف إدخال الوقت** و **Project Service - تحرير إدخال الوقت**. يمكنك إما تحرير هذه الصفحات الافتراضية أو إنشاء صفحات TBX مخصصة جديده.

> [!NOTE] 
> سيؤدي كلا الخيارين إلى إزالة بعض التصفية الجاهزة في كيانات **المشروع** و **مهمة المشروع**، بحيث تصبح كافة طرق عرض البحث للكيانات مرئية. وبشكل جاهز، تكون طرق عرض البحث ذات الصلة مرئية فقط.

يجب تحديد سير المهمة المناسب للحقل المخصص. وعلى الأرجح، إذا قمت باضافه الحقل إلى الشبكة، فيجب ان يتم وضعه في سير مهمة تحرير الصف المستخدم للحقول التي تنطبق على الصف الكامل لإدخالات الوقت. إذا كان الحقل المخصص يحتوي على قيمة فريدة في كل يوم، مثل الحقل المخصص لـ **وقت الانتهاء**، فيجب الانتقال إلى سير مهمة تحرير الخلية.

لأضافه الحقل المخصص إلى سير مهمة، اسحب عنصر **حقل** إلى الموضع المناسب في الصفحة، ثم قم بتعيين الخصائص الخاصة به. قم بتعيين خاصية **المصدر** إلى **إدخال الوقت**، وقم بتعيين خاصية **حقل البيانات** إلى الحقل المخصص. تحدد خاصية **الحقل** اسم العرض على الصفحة TBX. حدد **تطبيق** لحفظ تغييراتك في الحقل. ثم حدد **تحديث** لحفظ تغييراتك في الصفحة.

لاستخدام صفحة TBX مخصصة جديدة بدلاً من ذلك، قم بإنشاء عملية جديده. قم بتعيين الفئة إلى **سير إجراءات العمل**، وقم بتعيين الكيان إلى **وقت الإدخال**، وقم بتعيين نوع عملية الاعمال إلى **تشغيل العملية كسير مهمة**. ضمن **خصائص**، يجب أن يتم تعيين خاصية **اسم الصفحة** إلى اسم العرض للصفحة. قم بإضافة جميع الحقول ذات الصلة إلى صفحة TBX. احفظ العملية وقم بتنشيطها، ثم قم بتحديث خاصيه عنصر التحكم المخصص لسير المهمة ذات الصلة إلى قيمة **الاسم** الموجود في العملية.

### <a name="add-new-option-set-values"></a>إضافة قيم مجموعات خيارات جديدة
لإضافة قيم مجموعات خيارات إلى حقل جاهز، افتح صفحه التحرير للحقل ، ثم ضمن **النوع**، حدد **تحرير** بجوار مجموعة الخيارات. بعد ذلك، قم باضافه خيار جديد يحتوي على تسمية ولون مخصصين. إذا كنت تريد أضافه حاله إدخال الوقت الجديدة، تتم تسمية الحقل الجاهز بـ **حالة الإدخال** وليس **الحالة**.

### <a name="designate-a-new-time-entry-status-as-read-only"></a>تعيين حالة إدخال وقت جديد للقراءة فقط
لتعيين حالة إدخال وقت جديد للقراءة فقط، قم باضافه قيمه إدخال الوقت الجديد (الرقم، وليس التسمية) إلى خاصية **قائمة حالة للقراءة فقط**. سيتم تأمين الجزء القابل للتحرير من شبكه إدخال الوقت للصفوف التي لها الحالة الجديدة.
بعد ذلك، قم باضافه قواعد الاعمال لتأمين جميع الحقول في صفحات TBX لـ **تحرير صف إدخال الوقت** و **تحرير إدخال الوقت**. يمكنك الوصول إلى قواعد العمل لهذه الصفحات من خلال فتح محرر سير إجراءات العمل الخاص بالصفحة ثم تحديد **قواعد العمل**. يمكنك أضافه الحالة الجديدة إلى الشرط في قواعد العمل الموجودة، أو يمكنك أضافه قاعده عمل جديده للحالة الجديدة.

### <a name="add-custom-validation-rules"></a>إضافة قواعد التحقق من الصحة المخصصة
هناك نوعان من قواعد التحقق من الصحة يمكنك إضافتهما لتجربه شبكه إدخال الوقت الأسبوعي: • قواعد العمل من جانب العميل التي تعمل في مربعات الحوار "إنشاء سريع" وعلى صفحات TBX • عمليات التحقق من صحة المكونات الإضافيه لجانب الخادم التي يمكن تطبيقها على كافة تحديثات إدخال الوقت

#### <a name="business-rules"></a>قواعد العمل
استخدم قواعد العمل لتأمين الحقول وإلغاء تأمينها، وأدخل القيم الافتراضية في الحقول، وقم بتعريف عمليات التحقق من الصحة التي تتطلب معلومات من سجل إدخال الوقت الحالي فقط. يمكنك الوصول إلى قواعد العمل صفحة TBX من خلال فتح محرر سير إجراءات العمل الخاص بالصفحة ثم تحديد **قواعد العمل**. يمكنك بعد ذلك تحرير قواعد العمل الموجودة أو إضافة قاعده عمل جديده. للحصول على مزيد من عمليات التحقق المخصصة، يمكنك استخدام قاعده عمل لتشغيل JavaScript.

#### <a name="plug-in-validations"></a>عمليات التحقق من صحة المكونات الإضافية
يجب استخدام المكونات الاضافيه لعمليات التحقق من الصحة التي تتطلب سياقا أكثر من الذي يتوفر في سجل إدخال وقت واحد، أو لأي عمليات تحقق من الصحة ترغب في تشغيلها على التحديثات المضمنة في الشبكة. لإكمال التحقق من الصحة، قم بإنشاء مكون إضافي مخصص في كيان **إدخال الوقت**.

> [!IMPORTANT] 
> في الوقت الحالي، تؤدي مشكله معروفه في صفحات TBX إلى منع المستخدمين من تصحيح المعلومات والانتهاء من عمليه إعادة التحديد عند فشل أحد التحديثات في التحقق من صحة المكون الإضافي. وكحل بديل، قم بإعداد عمليات التحقق من صحة قواعد الأعمال لمنع هذا الموقف بقدر الإمكان.


[!INCLUDE[footer-include](../includes/footer-banner.md)]