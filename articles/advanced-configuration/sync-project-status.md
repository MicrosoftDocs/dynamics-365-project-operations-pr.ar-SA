---
title: مزامنة حالة المشروع لمنع الدخول ضد المشاريع المغلقة
description: تشرح هذه المقالة كيفية مزامنة حالة المشروع لمنع الإدخال في المشاريع غير النشطة أو المغلقة.
author: ryansandnessMSFT
ms.date: 08/09/2022
ms.topic: article
ms.reviewer: johnmichalak
ms.author: ryansandnessMSFT
ms.openlocfilehash: 7a306da164235f36d9ed5e69196508dce6d257de
ms.sourcegitcommit: 6b6c2bfd04e3e613ed1f38355c7cd47c3a56748d
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 08/24/2022
ms.locfileid: "9347994"
---
# <a name="sync-project-status-to-prevent-entry-against-closed-projects"></a>مزامنة حالة المشروع لمنع الدخول ضد المشاريع المغلقة

_**ينطبق على:** Project Operations للسيناريوهات المستندة إلى موارد/منتجات غير مخزنة‬_

## <a name="scenario"></a>السيناريو

تعرض شركة Contoso مباشرةً مع Microsoft Dynamics 365 Project Operations لسيناريوهات الموارد/غير المخزنة. كجزء من الأنشطة التجارية العادية، يمكن إكمال المشاريع أو تعليقها. يمكنك إلغاء تنشيط المشروع لضمان عدم إنشاء أي نفقات أو فواتير.

## <a name="solution"></a>الحل

### <a name="prerequisites"></a>المتطلبات

-   يجب تثبيت الإصدار 10.0.29 من Microsoft Dynamics ‏365 Finance أو الإصدارات الأحدث.
-   يجب تثبيت مخطط الكتابة المزدوجة 1.0.0.3 للمشاريع V2 (مشاريع\_msdyn) أو تكوينه يدويًا كما هو موضح أدناه.

### <a name="create-an-updated-version-of-the-project-operations-integration-projects-v2-dual-write-map"></a>إنشاء نسخة محدثة من خريطة الكتابة المزدوجة لمشاريع تكامل Project Operations ‏V2

لتحديث خريطة الكتابة المزدوجة لمشاريع Project Operations ‏V2:

1. انتقل إلى مساحة عمل **إدارة البيانات**، وحدد **الكتابة المزدوجة**.
2. حدد لوحة **الكتابة المزدوجة**.
3. من عمود **مخطط الجدول**، قم بتحديد المكان وحدد **مشروع V2 ‏(msdyn\_مشاريع)**، ثم حدد "إيقاف".
4. حدد اسم المخطط لفتحه ثم حدد **[بلا]**.
5. من مربع الحوار تحديد العمود، حدد **رمز الحالة \[حالة المشروع\]**، ثم حدد "موافق". يمكنك إدخال **الحالة** في قيمة عامل التصفية لتضييق القائمة.
6.  حدد **إضافة تحويل أو تحريره** في عمود **نوع المخطط** لتحرير التحويل.
7.  من حقل **نوع التحويل**، حدد **ValueMap**.
8.  حدد **إضافة تعيين قيمة**، ثم أضف **المفاتيح** و **القيم** التالية:

   مفتاح       | القيمة‬ 
   ----------|-------
   قيد التنفيذ | 1     
   تم | 1      

![لقطة شاشة تُظهر تعيين الكتابة المزدوجة](media/projectstage-dw-mapping.png)

9. حدد **حفظ.**.
10. من الجزء العلوي في صفحة **الكتابة المزدوجة > المشاريع V2 ‏(msdyn_المشاريع)**، حدد **حفظ باسم**.
11. من **إضافة الجدول** في حقل **الناشر**، حدد **ناشر CDS الافتراضي**.
12. قم بتعيين حقل **الإصدار** إلى 1.0.0.3.
13. أدخل **التفاصيل**، ثم حدد **حفظ**.
14. من الجزء العلوي لصفحة **الكتابة المزدوجة > المشاريع V2 ‏(msdyn_المشاريع)**، حدد **تشغيل** لبدء التعيين، ثم حدد **نعم** إذا طُلب منك التأكيد قبل التشغيل. 

### <a name="close-a-newly-completed-project"></a>إغلاق مشروع مكتمل حديثًا

يستخدم Dynamics 365 Finance حقل **مرحلة المشروع** للتمييز بين المشاريع **قيد التنفيذ** أو **المنتهية**. **المشاريع** المنتهية لا يمكنها تحمل النفقات أو لا يمكن فوترتها للعملاء.

1. افتح مشروعًا إلغاء تنشيطه.
2. من الشريط، حدد **إلغاء تنشيط**.

> [!NOTE]
> يمكنك إما إلغاء تنشيط المشروع أو إغلاقه لأن كلاهما سيتصرفان بنفس الطريقة في سياق تطبيق Finance.

3. في Finance، افتح صفحة **قائمة كل المشاريع**.
4. تأكد من عدم ظهور المشروع الذي تم إلغاء تنشيطه في القائمة.
5. في عامل تصفية **إظهار المشاريع** أعلى القائمة، غير القيمة من **نشط** إلى **الكل**.
6. سترى الآن المشروع الذي تم إلغاء تنشيطه.

إذا حاولت تسجيل الوقت أو المصروفات مقابل هذا المشروع في Finance، فيجب ألا ترى المشروع للاختيار. إذا أدخلت رقم المشروع يدويًا على أحد النفقات، فسترى رسالة مثل "مرحلة المشروع المنتهية لا تسمح بالتسجيل في المشروع". يجب تعطيل الفوترة ووظائف الفوترة الأخرى لأنها ستكون في سياق مشروع مغلق.

